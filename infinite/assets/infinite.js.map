{"version":3,"sources":["webpack:///infinite.js","webpack:///webpack/bootstrap fe46123fe28e7e164d0c","webpack:///./infinite/sketch.js","webpack:///./infinite/GlobalVar.js","webpack:///./infinite/util.js","webpack:///./infinite/ButtonPlus.js","webpack:///./infinite/ButtonParticle.js","webpack:///./infinite/Particle.js","webpack:///./infinite/VisualObject.js","webpack:///./infinite/AttractPoint.js","webpack:///./infinite/Button.js","webpack:///./infinite/EventHandleFunc.js","webpack:///./infinite/FilterButton.js","webpack:///./infinite/getInfo.js","webpack:///./infinite/getPostContent.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","resizeCanvas","sketch","doc","getElementById","globalVar","width","Math","max","documentElement","clientWidth","height","clientHeight","left","top","pp","style","len","displayArray","ButtonParticle","length","w","countPerRow","cellSize","alignState","k","i","j","floor","attractPt","position","p5","Vector","attractPtL","x","attractPtR","y","resortButtonParticle","bp","newList","selectObj","visualObject","pState","push","AttractPoint","VisualObject","Particle","ButtonPlus","FilterButton","document","preload","soundFormats","SOUNDFILE","loadSound","e","console","log","message","optionL","strength","vortex","optionR","clockwise","setup","createCanvas","canvas","backgroundBall","size","random","optionsVO","fillCol","color","options","draw","background","objType","pushMatrix","translate","transTarget","totalHeight","totalPage","currentPage","$","fadeIn","fadeOut","display","popMatrix","setTimeout","ready","body","overflow","getInfo","click","stateReset","infoFrame","visibility","prototype","hoverObjCount","vortexAttract","target","is","slideUp","window","resize","css","mouseover","slideDown","mouseenter","addEventListener","event","direction","detail","wheelDelta","onmousewheel","mouseout","options_2010","text","parentId","keyword","value","options_2011","options_2012","options_2013","options_2014","options_2015","options_2016","options3","options4","options5","options6","options7","options8","options9","options10","options11","options12","options_sjcd","options_gysj","options_fssj","options_jzyhy","options_smdh","options_ys","filterButton","options_cancelAll","type","class","title","GlobalVar","select","navigationBarHeight","util","inheritPrototype","subType","superType","this","object","constructor","o","F","getElementLeft","element","actualLeft","offsetLeft","current","offsetParent","getElementTop","actualTop","offsetTop","getJsonObjLength","jsonObj","Length","item","Button","breath","breathState","h","clickTimeline","geometryType","maxWidth","filtered","isSelected","translateX","trans","translateY","mouseX","mouseY","pow","getState","mouseIsPressed","pSwitch","fire","update","trans_position","strokeCol","stroke","noStroke","rectMode","state","cursorState","sound","play","buttonCol","drawObj","s","pressCol","clickCol","drawFilteredObj","drawGeometry","fill","ellipse","pop","_trans","reflect","topspeed","acceleration","velocity","xoff","applyForce","force","add","vect","sub","mag","b","threshold","attract","randomVect","copy","mult","effectAngle","noise","PI","rotate","angle","heading","clocklwise","limit","random1","random2","abs","linearAttract","dist","normalize","ff","setMag","hoverCol","positions","handlers","tate","addHandler","handler","Array","removeHandler","handers","splice","getPostContent","eventHandleFunc","clicked_animation","textAlign","strokeWeight","map","line","noFill","n","sqrt","showShortUserInfo","sortInfoFrame","innerHTML","createElement","img","src","info","cssText","appendChild","name","showShortPostInfo","hideShortInfo","showUserInfo","introduction","avatar","alt","infoContainer","postList","ps","fragment","createDocumentFragment","posts","className","data_id","onclick","fragment_1","major","unit","profession","postContent","showPostInfo","thumbnail","classList","contains","remove","author","productType","creationDate","hideInfoFrame","node","attachEvent","parentNode","doFilter","BP","status","indexOf","undefined","disactiveCancelAll","bind","arg","XMLHttpRequest","XMLHTTP","ActiveXObject","onreadystatechange","readyState","JSON","parse","responseText","r","optionsBP","newObj","open","send","users","count","$infoFrame","$sketch","animate","parseInt","rightCtrlBar","toTop","scrollTop","sTop","$toTop","scroll","cancel"],"mappings":"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","file":"./infinite.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\"; //严格模式\r\n\t\r\n\tvar AttractPoint = __webpack_require__(7);\r\n\tvar globalVar = __webpack_require__(1);\r\n\tvar VisualObject = __webpack_require__(6);\r\n\tvar Particle = __webpack_require__(5);\r\n\tvar ButtonPlus = __webpack_require__(3);\r\n\tvar FilterButton = __webpack_require__(10);\r\n\t__webpack_require__(13);\r\n\t\r\n\tvar sketch = function (p){\r\n\t\tglobalVar.width = Math.max(document.documentElement.clientWidth,960);\r\n\t\tglobalVar.height = Math.max(document.documentElement.clientHeight,600);\r\n\t\tglobalVar.pp = p;\r\n\t\tp.preload = function () {\r\n\t\t\ttry{\r\n\t\t\t\tp.soundFormats('wav', 'ogg');\r\n\t\t\t\tglobalVar.SOUNDFILE = p.loadSound('wp-content/themes/zbs/sound/water2.wav');\r\n\t\t\t}catch(e){\r\n\t\t\t\tconsole.log(e.message);      //貌似ie不支持soundformats方法\r\n\t\t\t}\r\n\t\r\n\t\t\tvar optionL = {\r\n\t\t\t\t\"p\":p,\r\n\t\t\t\t\"position\" : new p5.Vector(globalVar.width / 2 - 250,globalVar.height * 0.6),\r\n\t\t\t\t\"strength\" : 0.1,\r\n\t\t\t\t\"vortex\" : true\r\n\t\t\t};\r\n\t\t\tvar optionR = {\r\n\t\t\t\t\"p\":p,\r\n\t\t\t\t\"position\" : new p5.Vector(globalVar.width / 2 + 250,globalVar.height * 0.6),\r\n\t\t\t\t\"strength\" : 0.1,\r\n\t\t\t\t\"clockwise\" : true,\r\n\t\t\t\t\"vortex\" : true\r\n\t\t\t};\r\n\t\t\tglobalVar.attractPtL = new AttractPoint(optionL);\r\n\t\t\tglobalVar.attractPtR = new AttractPoint(optionR);\r\n\t\r\n\t\t};\r\n\t\tp.setup = function (){\r\n\t\t\tp.createCanvas(globalVar.width, globalVar.height);\r\n\t\t\tp.canvas.id = \"sketch_1\";\r\n\t\t\tglobalVar.displayArray.backgroundBall = [];\r\n\t\t\tfor(var i = 0; i < 200; i++){\r\n\t\t\t\tvar size = Math.random()*20 + 15;\r\n\t\t\t\tvar optionsVO = {\r\n\t\t\t\t\tposition : new p5.Vector((Math.random() * p.width - 100) + 50,(Math.random() * p.height - 60) + 30),\r\n\t\t\t\t\twidth : size,\r\n\t\t\t\t\theight : size,\r\n\t\t\t\t\tp : globalVar.pp,\r\n\t\t\t\t\tfillCol : globalVar.pp.color(200,200,200,50)\r\n\t\t\t\t};\r\n\t\t\t\tvar options = {\r\n\t\t\t\t\tvisualObject : new VisualObject(optionsVO),\r\n\t\t\t\t\tp : globalVar.pp\r\n\t\t\t\t};\r\n\t\t\t\tglobalVar.displayArray.backgroundBall.push(new Particle(options));\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\tp.draw = function (){\r\n\t\t\tp.background(255);\r\n\t\t\t// globalVar.attractPtL.display();\r\n\t\t\t// globalVar.attractPtR.display();\r\n\t\t\tfor(var objType in globalVar.displayArray){\r\n\t\t\t\tif (objType === \"ButtonParticle\"){     //重新排序控制绘图顺序\r\n\t\t\t\t\tresortButtonParticle(globalVar.displayArray);\r\n\t\t\t\t\tButtonPlus.pushMatrix(globalVar.pp);\r\n\t\t\t\t\tglobalVar.translate.x += (globalVar.transTarget.x - globalVar.translate.x) * 0.2;\r\n\t\t\t\t\tglobalVar.translate.y += (globalVar.transTarget.y - globalVar.translate.y) * 0.2;\r\n\t\t\t\t\tButtonPlus.translate(globalVar.translate.x, globalVar.translate.y, globalVar.pp);\r\n\t\r\n\t\t\t\t\tvar totalHeight =  globalVar.displayArray[objType].length / globalVar.countPerRow * globalVar.cellSize;\r\n\t\t\t\t\tglobalVar.transTarget.totalPage = totalHeight / p.height;\r\n\t\t\t\t\t if (globalVar.translate.currentPage < globalVar.transTarget.totalPage - 1 && globalVar.alignState){\r\n\t\t\t\t\t \t$(\"#nextPage\").fadeIn();\r\n\t\t\t\t\t }else{\r\n\t\t\t\t\t \t$(\"#nextPage\").fadeOut();\r\n\t\t\t\t\t }\r\n\t\t\t\t\t if (globalVar.translate.currentPage > 0 && globalVar.alignState){\r\n\t\t\t\t\t \t$(\"#perPage\").fadeIn();\r\n\t\t\t\t\t }else{\r\n\t\t\t\t\t \t$(\"#perPage\").fadeOut();\r\n\t\t\t\t\t }\r\n\t\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tfor(var i = 0, length = globalVar.displayArray[objType].length;i < length;i++){\r\n\t\t\t\t\tglobalVar.displayArray[objType][i].display();\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tif (objType === \"ButtonParticle\") {\r\n\t\t\t\t\tButtonPlus.popMatrix(globalVar.pp);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\t\r\n\t\t\r\n\t};\r\n\t\r\n\tvar myp5 = new p5(sketch,'sketch');\r\n\tvar doc = document;\r\n\tsetTimeout(resizeCanvas,0);    //延迟执行，不然canvas的width跟heigth的值为0；\r\n\t\r\n\tfunction resizeCanvas(){       //调整canvas的大小与位置\r\n\t    var sketch = doc.getElementById(\"sketch\");\r\n\t\tglobalVar.width = Math.max(doc.documentElement.clientWidth ,960);\r\n\t    globalVar.height = Math.max(doc.documentElement.clientHeight ,600);\r\n\t    var left,top;\r\n\t    globalVar.pp.resizeCanvas(globalVar.width, globalVar.height);\r\n\t    if (doc.documentElement.clientWidth  < 960){\r\n\t        left = (doc.documentElement.clientWidth - globalVar.width) / 2;\r\n\t    }else{\r\n\t        left = (globalVar.width - doc.documentElement.clientWidth) / 2;\r\n\t    }\r\n\t    if (doc.documentElement.clientHeight - 50  < 600){\r\n\t        top = (doc.documentElement.clientHeight + 50 - globalVar.height) / 2;\r\n\t    }else{\r\n\t        top = (globalVar.height - doc.documentElement.clientHeight + 50) / 2;\r\n\t    }\r\n\t    sketch.style.left = left + \"px\";\r\n\t    sketch.style.top = top + \"px\";\r\n\t\t\r\n\t\t/**\r\n\t\t * resize后button自适应位置\r\n\t\t */\r\n\t\tvar len = globalVar.displayArray.ButtonParticle.length;\r\n\t\tvar w = globalVar.countPerRow * globalVar.cellSize;\r\n\t\tleft = (globalVar.width - w) / 2 + 0.5 * globalVar.cellSize;\r\n\t\tif (globalVar.alignState){\r\n\t\t\tfor(var k = 0; k < len; k++){\r\n\t\t\t\tvar i = k % globalVar.countPerRow;\r\n\t\t\t\tvar j = Math.floor(k / globalVar.countPerRow) + 2;\r\n\t\t\t\tglobalVar.displayArray.ButtonParticle[k].attractPt.position =  new p5.Vector(i * globalVar.cellSize + left, j * globalVar.cellSize);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tglobalVar.attractPtL.position.x = globalVar.width / 2 - 250;  //调整画布时,attractPtL与attractPtR也得更改位置\r\n\t\t\tglobalVar.attractPtR.position.x = globalVar.width / 2 + 250;\r\n\t\t\tglobalVar.attractPtL.position.y = globalVar.height * 0.6;\r\n\t\t\tglobalVar.attractPtR.position.y = globalVar.height * 0.6;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction resortButtonParticle(bp){\r\n\t\t/**\r\n\t\t * 为displayArray.ButtonParticle\r\n\t\t */\r\n\t\tvar newList = [],\r\n\t\t\tselectObj = null;\r\n\t\tfor(var i = 0, len = bp.ButtonParticle.length; i < len; i++){\r\n\t\t\tif(bp.ButtonParticle[i].visualObject.pState === \"mouseOut\"){\r\n\t\t\t\tnewList.push(bp.ButtonParticle[i]);\r\n\t\t\t}else{\r\n\t\t\t\tselectObj = bp.ButtonParticle[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(selectObj !== null){\r\n\t\t\tnewList.push(selectObj);\r\n\t\t}\r\n\t\tbp.ButtonParticle = newList;\r\n\t}\r\n\t\r\n\t$(doc).ready(function(){\r\n\t\tdoc.body.style.overflow = 'hidden';\r\n\t    var getInfo = __webpack_require__(11);\r\n\t\t//默认获取用户\r\n\t\tgetInfo(\"posts\",\"special_invitation\");\r\n\t\t\r\n\t\t//获取用户\r\n\t\t$(\"#getUsers\").click(function(){    //相当于刷新，所有很多状态要重置\r\n\t\t\t// ButtonPlus.stateReset();    //状态重置\r\n\t\t\t// globalVar.alignState = false;    //状态重置\r\n\t\r\n\t\t\t// var doc = document;                             ////重置infoFrame\r\n\t\t\t// var infoFrame = doc.getElementById(\"infoFrame\");\r\n\t\t\t// if(infoFrame){\r\n\t\t\t// \tinfoFrame.style.visibility = \"hidden\";\r\n\t\t\t// }\r\n\t\r\n\t\t\t// getInfo(\"users\",\"special_invitation\");\r\n\t\t});\r\n\t\t\r\n\t\t//获取文章\r\n\t\t$(\"#getPosts\").click(function(){   //相当于刷新，所有很多状态要重置\r\n\t\t\tButtonPlus.stateReset();    //状态重置\r\n\t\t\tglobalVar.alignState = false;    //状态重置\r\n\t\r\n\t        //重置infoFrame\r\n\t\t\tvar infoFrame = doc.getElementById(\"infoFrame\");\r\n\t\t\tif(infoFrame){\r\n\t\t\t\tinfoFrame.style.visibility = \"hidden\";\r\n\t\t\t}\r\n\t\r\n\t\t\tgetInfo(\"posts\");\r\n\t\t\tButtonPlus.prototype.hoverObjCount += 1; //由于按钮是在FliterBar上，getInfo的时候被重置了，所以+1\r\n\t\t});\r\n\t\t\r\n\t\t//排列\r\n\t\t$(\"#align\").click(function (){\r\n\t\t\tvar w = globalVar.countPerRow * globalVar.cellSize;\r\n\t\t\tvar left = (globalVar.width - w) / 2 + 0.5 * globalVar.cellSize;\r\n\t\t\t\r\n\t\t\tif (globalVar.alignState){\r\n\t\t\t\tglobalVar.transTarget.x = 0;\r\n\t\t\t\tglobalVar.transTarget.y = 0;\r\n\t\t\t\tglobalVar.translate.currentPage = 0;\r\n\t\t\t}\r\n\t\t\tglobalVar.alignState = ~globalVar.alignState;\r\n\t\t\tvar len = globalVar.displayArray.ButtonParticle.length;\r\n\t\t\tif (globalVar.alignState){\r\n\t\t\t\tfor(var k = 0; k < len; k++){\r\n\t\t\t\t\tvar i = k % globalVar.countPerRow;\r\n\t\t\t\t\tvar j = Math.floor(k / globalVar.countPerRow) + 2;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar options = {\r\n\t\t\t\t\t\t\"position\" : new p5.Vector(i * globalVar.cellSize + left, j * globalVar.cellSize),\r\n\t\t\t\t\t\t\"strength\" : 1.5,\r\n\t\t\t\t\t\t\"vortex\" : false\r\n\t\t\t\t\t};\r\n\t\t\t\t\tvar attractPt = new AttractPoint(options);\r\n\t\t\t\t\tglobalVar.displayArray.ButtonParticle[k].attractPt = attractPt;\r\n\t\t\t\t\tglobalVar.displayArray.ButtonParticle[k].vortexAttract = false;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tfor(var k = 0; k < len; k++){\r\n\t\t\t\t\tglobalVar.displayArray.ButtonParticle[k].attractPt = globalVar.attractPtL;\r\n\t\t\t\t\tglobalVar.displayArray.ButtonParticle[k].vortexAttract = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\r\n\t});\r\n\t\r\n\t\r\n\t$(\"body\").click(function (e){\r\n\t\tif ($(e.target).is(\"#filterBar , #filterBarBtn , #filterBar button\")){\r\n\t\t\treturn;\r\n\t\t}else{\r\n\t\t\t//折叠FilterBar\r\n\t\t\t$(\"#filter\").slideUp(\"fast\");    //隐藏fliter\r\n\t\t}\r\n\t});\r\n\t\r\n\t//窗口尺寸改变\r\n\t$(window).resize(function() {\r\n\t\t$(\"#infoFrame\").css(\"width\", $(window).width());\r\n\t\tresizeCanvas();   //调整canv位置与大小\r\n\t});\r\n\t\r\n\t$(\"#filterBarBtn\").mouseover(function (){\r\n\t\t$(\"#filter\").slideDown(\"slow\");      //下拉显示fliter\r\n\t});\r\n\t\r\n\t$(\"#sketch\").mouseenter(function (e){\r\n\t\t$(\"#filter\").slideUp(\"fast\");\r\n\t});\r\n\t\r\n\t// firefox\r\n\tdoc.body.addEventListener(\"DOMMouseScroll\", function(event) {\r\n\t\tif (globalVar.alignState){\r\n\t\t\tvar direction= event.detail && (event.detail > 0 ? \"mousedown\" : \"mouseup\");\r\n\t\t\tvar direction = event.wheelDelta && (event.wheelDelta > 0 ? \"mouseup\" : \"mousedown\");\r\n\t\t\tif (direction === \"mouseup\"){\r\n\t\t\t\tif (globalVar.translate.currentPage > 0){\r\n\t\t\t\t\tglobalVar.transTarget.y += 400;\r\n\t\t\t\t\tglobalVar.translate.currentPage -= 1;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif (globalVar.translate.currentPage < globalVar.transTarget.totalPage - 1){\r\n\t\t\t\t\tglobalVar.transTarget.y -= 400;\r\n\t\t\t\t\tglobalVar.translate.currentPage += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}    \r\n\t});\r\n\t\r\n\t// chrome and ie\r\n\tdoc.body.onmousewheel = function (event) {\r\n\t\t$(\"#filter\").slideUp(\"fast\");     //隐藏fliter\r\n\t\t\r\n\t\tif (globalVar.alignState){\r\n\t\t\tevent = event || window.event;\r\n\t\r\n\t\t\tvar direction = event.wheelDelta && (event.wheelDelta > 0 ? \"mouseup\" : \"mousedown\");\r\n\t\t\tif (direction === \"mouseup\"){\r\n\t\t\t\tif (globalVar.translate.currentPage > 0){\r\n\t\t\t\t\tglobalVar.transTarget.y += 400;\r\n\t\t\t\t\tglobalVar.translate.currentPage -= 1;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif (globalVar.translate.currentPage < globalVar.transTarget.totalPage - 1){\r\n\t\t\t\t\tglobalVar.transTarget.y -= 400;\r\n\t\t\t\t\tglobalVar.translate.currentPage += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\t$(\"#nextPage\").click(function (){\r\n\t\tif (globalVar.translate.currentPage < globalVar.transTarget.totalPage - 1){\r\n\t\t\tglobalVar.transTarget.y -= 400;\r\n\t\t\tglobalVar.translate.currentPage += 1;\r\n\t\t}\r\n\t});\r\n\t\r\n\t$(\"#perPage\").click(function (){\r\n\t\tif (globalVar.translate.currentPage > 0){\r\n\t\t\tglobalVar.transTarget.y += 400;\r\n\t\t\tglobalVar.translate.currentPage -= 1;\r\n\t\t}\r\n\t});\r\n\t\r\n\t$(\"#filterT, #filterBarBtn\").mouseover(function (){       //让鼠标选择不中FilterBar下面的button\r\n\t\tif (ButtonPlus.prototype.hoverObjCount < 1){\r\n\t\t\tButtonPlus.prototype.hoverObjCount += 1;\r\n\t\t}\r\n\t});\r\n\t\r\n\t$(\"#filterT, #filterBarBtn\").mouseout(function (){\r\n\t\tif (ButtonPlus.prototype.hoverObjCount > 0){\r\n\t\t\tButtonPlus.prototype.hoverObjCount -= 1;\r\n\t\t}\r\n\t});\r\n\t\r\n\tvar options_2010 = {\r\n\t\tid : \"2010\",\r\n\t\ttext : \"2010年\",\r\n\t\tparentId : \"year\",\r\n\t\tkeyword : \"creationDate\",\r\n\t\tvalue : \"2010\"\r\n\t};\r\n\t\r\n\tvar options_2011 = {\r\n\t\tid : \"2011\",\r\n\t\ttext : \"2011年\",\r\n\t\tparentId : \"year\",\r\n\t\tkeyword : \"creationDate\",\r\n\t\tvalue : \"2011\"\r\n\t};\r\n\t\r\n\tvar options_2012 = {\r\n\t\tid : \"2012\",\r\n\t\ttext : \"2012年\",\r\n\t\tparentId : \"year\",\r\n\t\tkeyword : \"creationDate\",\r\n\t\tvalue : \"2012\"\r\n\t};\r\n\t\r\n\tvar options_2013 = {\r\n\t\tid : \"2013\",\r\n\t\ttext : \"2013年\",\r\n\t\tparentId : \"year\",\r\n\t\tkeyword : \"creationDate\",\r\n\t\tvalue : \"2013\"\r\n\t};\r\n\t\r\n\tvar options_2014 = {\r\n\t\tid : \"2014\",\r\n\t\ttext : \"2014年\",\r\n\t\tparentId : \"year\",\r\n\t\tkeyword : \"creationDate\",\r\n\t\tvalue : \"2014\"\r\n\t};\r\n\t\r\n\tvar options_2015 = {\r\n\t\tid : \"2015\",\r\n\t\ttext : \"2015年\",\r\n\t\tparentId : \"year\",\r\n\t\tkeyword : \"creationDate\",\r\n\t\tvalue : \"2015\"\r\n\t};\r\n\t\r\n\tvar options_2016 = {\r\n\t\tid : \"2016\",\r\n\t\ttext : \"2016年\",\r\n\t\tparentId : \"year\",\r\n\t\tkeyword : \"creationDate\",\r\n\t\tvalue : \"2016\"\r\n\t};\r\n\t\r\n\tvar options3 = {\r\n\t\tid : \"qgbd\",\r\n\t\ttext : \"情感表达\",\r\n\t\tparentId : \"type\",\r\n\t\tkeyword : \"cat\",\r\n\t\tvalue : \"情感表达\"\r\n\t};\r\n\tvar options4 = {\r\n\t\tid : \"gnyh\",\r\n\t\ttext : \"功能优化\",\r\n\t\tparentId : \"type\",\r\n\t\tkeyword : \"cat\",\r\n\t\tvalue : \"功能优化\"\r\n\t};\r\n\tvar options5 = {\r\n\t\tid : \"shht\",\r\n\t\ttext : \"社会话题\",\r\n\t\tparentId : \"type\",\r\n\t\tkeyword : \"cat\",\r\n\t\tvalue : \"社会话题\"\r\n\t};\r\n\tvar options6 = {\r\n\t\tid : \"clyy\",\r\n\t\ttext : \"材料应用\",\r\n\t\tparentId : \"type\",\r\n\t\tkeyword : \"cat\",\r\n\t\tvalue : \"材料应用\"\r\n\t};\r\n\tvar options7 = {\r\n\t\tid : \"kjzp\",\r\n\t\ttext : \"跨界作品\",\r\n\t\tparentId : \"type\",\r\n\t\tkeyword : \"cat\",\r\n\t\tvalue : \"跨界作品\"\r\n\t};\r\n\t\r\n\tvar options8 = {\r\n\t\tid : \"syxf\",\r\n\t\ttext : \"实验先锋\",\r\n\t\tparentId : \"type\",\r\n\t\tkeyword : \"cat\",\r\n\t\tvalue : \"实验先锋\"\r\n\t};\r\n\t\r\n\tvar options9 = {\r\n\t\tid : \"rqyj\",\r\n\t\ttext : \"人群研究\",\r\n\t\tparentId : \"type\",\r\n\t\tkeyword : \"cat\",\r\n\t\tvalue : \"人群研究\"\r\n\t};\r\n\t\r\n\tvar options10 = {\r\n\t\tid : \"syyy\",\r\n\t\ttext : \"商业运用\",\r\n\t\tparentId : \"type\",\r\n\t\tkeyword : \"cat\",\r\n\t\tvalue : \"商业运用\"\r\n\t};\r\n\t\r\n\tvar options11 = {\r\n\t\tid : \"whcc\",\r\n\t\ttext : \"文化传承\",\r\n\t\tparentId : \"type\",\r\n\t\tkeyword : \"cat\",\r\n\t\tvalue : \"文化传承\"\r\n\t};\r\n\t\r\n\tvar options12 = {\r\n\t\tid : \"qt\",\r\n\t\ttext : \"其他\",\r\n\t\tparentId : \"type\",\r\n\t\tkeyword : \"cat\",\r\n\t\tvalue : \"其他\"\r\n\t};\r\n\t\r\n\tvar options_sjcd = {\r\n\t\tid : \"sjcd\",\r\n\t\ttext : \"视觉传达\",\r\n\t\tparentId : \"major\",\r\n\t\tkeyword : \"major\",\r\n\t\tvalue : \"视觉传达\"\r\n\t};\r\n\t\r\n\tvar options_gysj = {\r\n\t\tid : \"gysj\",\r\n\t\ttext : \"工业设计\",\r\n\t\tparentId : \"major\",\r\n\t\tkeyword : \"major\",\r\n\t\tvalue : \"工业设计\"\r\n\t};\r\n\t\r\n\tvar options_fssj = {\r\n\t\tid : \"fssj\",\r\n\t\ttext : \"服饰设计\",\r\n\t\tparentId : \"major\",\r\n\t\tkeyword : \"major\",\r\n\t\tvalue : \"服饰设计\"\r\n\t};\r\n\t\r\n\tvar options_jzyhy = {\r\n\t\tid : \"jzyhy\",\r\n\t\ttext : \"建筑与环艺/展示\",\r\n\t\tparentId : \"major\",\r\n\t\tkeyword : \"major\",\r\n\t\tvalue : \"建筑与环艺(展示)\"\r\n\t};\r\n\t\r\n\tvar options_smdh = {\r\n\t\tid : \"smdh\",\r\n\t\ttext : \"数媒与动画\",\r\n\t\tparentId : \"major\",\r\n\t\tkeyword : \"major\",\r\n\t\tvalue : \"数字多媒体与动画影像\"\r\n\t};\r\n\t\r\n\tvar options_ys = {\r\n\t\tid : \"ys\",\r\n\t\ttext : \"艺术\",\r\n\t\tparentId : \"major\",\r\n\t\tkeyword : \"major\",\r\n\t\tvalue : \"艺术\"\r\n\t};\r\n\t\r\n\tglobalVar.filterButton.push(new FilterButton(options_2010));\r\n\tglobalVar.filterButton.push(new FilterButton(options_2011));\r\n\tglobalVar.filterButton.push(new FilterButton(options_2012));\r\n\tglobalVar.filterButton.push(new FilterButton(options_2013));\r\n\tglobalVar.filterButton.push(new FilterButton(options_2014));\r\n\tglobalVar.filterButton.push(new FilterButton(options_2015));\r\n\tglobalVar.filterButton.push(new FilterButton(options_2016));\r\n\t\r\n\tglobalVar.filterButton.push(new FilterButton(options3));\r\n\tglobalVar.filterButton.push(new FilterButton(options4));\r\n\tglobalVar.filterButton.push(new FilterButton(options5));\r\n\tglobalVar.filterButton.push(new FilterButton(options6));\r\n\tglobalVar.filterButton.push(new FilterButton(options7));\r\n\tglobalVar.filterButton.push(new FilterButton(options8));\r\n\tglobalVar.filterButton.push(new FilterButton(options9));\r\n\tglobalVar.filterButton.push(new FilterButton(options10));\r\n\tglobalVar.filterButton.push(new FilterButton(options11));\r\n\tglobalVar.filterButton.push(new FilterButton(options12));\r\n\t\r\n\tglobalVar.filterButton.push(new FilterButton(options_sjcd));\r\n\tglobalVar.filterButton.push(new FilterButton(options_gysj));\r\n\tglobalVar.filterButton.push(new FilterButton(options_fssj));\r\n\tglobalVar.filterButton.push(new FilterButton(options_jzyhy));\r\n\tglobalVar.filterButton.push(new FilterButton(options_smdh));\r\n\tglobalVar.filterButton.push(new FilterButton(options_ys));\r\n\t\r\n\t\r\n\tvar options_cancelAll = {\r\n\t\tid : \"bcancelAll\",\r\n\t\ttype : \"cancel\",\r\n\t\tclass : \"cancel\",\r\n\t\tparentId : \"cancelAll\",\r\n\t\ttitle: \"全部取消\",\r\n\t\ttext : \"\"\r\n\t};\r\n\t\r\n\tglobalVar.filterButton.push(new FilterButton(options_cancelAll));\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t/**\r\n\t * infinite程序内部全局变量\r\n\t */\r\n\t\r\n\tvar GlobalVar = {\r\n\t    displayArray : [],\r\n\t    filterButton : [],\r\n\t    SOUNDFILE : null,\r\n\t    pp : null,\r\n\t    alignState : false,\r\n\t    attractPtL : null,\r\n\t    attractPtR : null,\r\n\t    countPerRow : 10,   //align模式时，每行的button数量\r\n\t    cellSize : 70,    //align模式时，button与button之间的间距\r\n\t    select : 0,\r\n\t    translate : {\r\n\t        x : 0,\r\n\t        y : 0,\r\n\t        currentPage : 0\r\n\t    },\r\n\t    transTarget : {\r\n\t        x : 0,\r\n\t        y : 0,\r\n\t        totalPage : 0\r\n\t    },\r\n\t    navigationBarHeight : 50,\r\n\t    width : 0,\r\n\t    height : 0\r\n\t};\r\n\t\r\n\tmodule.exports = GlobalVar;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t/**\r\n\t * 工具包\r\n\t */\r\n\tvar util = {\r\n\t\t//用于继承\r\n\t\tinheritPrototype : function (subType,superType){\r\n\t\t\tvar prototype = this.object(superType.prototype);\r\n\t\t\tprototype.constructor = subType;\r\n\t\t\tsubType.prototype = prototype;\r\n\t\t},\r\n\t\tobject : function (o){\r\n\t\t\tfunction F(){}\r\n\t\t\tF.prototype = o;\r\n\t\t\treturn new F();\r\n\t\t},\r\n\t\t\r\n\t\t//用于获取元素的绝对位置\r\n\t\tgetElementLeft : function (element){\r\n\t\t\tvar actualLeft = element.offsetLeft;\r\n\t\t\tvar current = element.offsetParent;\r\n\t\t\twhile (current !== null){\r\n\t\t\t\tactualLeft += current.offsetLeft;\r\n\t\t\t\tcurrent = current.offsetParent;\r\n\t\t\t}\r\n\t\t\treturn actualLeft;\r\n\t\t},\r\n\t\tgetElementTop : function (element){\r\n\t\t\tvar actualTop = element.offsetTop;\r\n\t\t\tvar current = element.offsetParent;\r\n\t\t\twhile (current !== null){\r\n\t\t\t\tactualTop += current.offsetTop;\r\n\t\t\t\tcurrent = current.offsetParent;\r\n\t\t\t}\r\n\t\t\treturn actualTop;\r\n\t\t},\r\n\t\t\r\n\t\tgetJsonObjLength : function (jsonObj) {\r\n\t\t\tvar Length = 0;\r\n\t\t\tfor (var item in jsonObj) {\r\n\t\t\tLength++;\r\n\t\t\t}\r\n\t\t\treturn Length;\r\n\t\t}\r\n\t};\r\n\t\r\n\tmodule.exports = util;\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t基于p5.js,Button\r\n\tby:Zzzz\r\n\tdate:2016-03-03\r\n\t*/\r\n\tvar Button = __webpack_require__(8);\r\n\tvar util = __webpack_require__(2);\r\n\t// var globalVar = require(\"./GlobalVar.js\");\r\n\t\r\n\tfunction ButtonPlus(options) {\r\n\t\tButton.call(this, options);\r\n\t\tthis.breath = false;  //是否开启呼吸效果\r\n\t\tthis.breathState = false;  //呼吸状态\r\n\t\tthis.w = options.width;  //原始宽度数据备份\r\n\t\tthis.h = options.height;  //原始高度数据备份\r\n\t\tthis.clickTimeline = 0;   //On状态的时间轴\r\n\t\tthis.geometryType = \"circle\";\r\n\t\tthis.maxWidth = 100;\r\n\t\tthis.filtered = false;   //用于过滤\r\n\t}\r\n\tutil.inheritPrototype(ButtonPlus, Button);\r\n\t\r\n\t//统计ButtonPlus实例被选中个数，主要目的在于控制每次只能选择一个Button\r\n\tButtonPlus.prototype.hoverObjCount = 0;\r\n\t\r\n\t//判断ButtonPlus是否被选中（加强版）\r\n\tButtonPlus.prototype.isSelected = function () {\r\n\t\tvar translateX = this.constructor.prototype.trans[this.constructor.prototype.trans.length - 1].x,     //p5的bug,translate后,鼠标位置出错.\r\n\t\t\ttranslateY = this.constructor.prototype.trans[this.constructor.prototype.trans.length - 1].y,\r\n\t\t\tmouseX = this.p.mouseX - translateX,\r\n\t\t\tmouseY = this.p.mouseY - translateY;\r\n\t\r\n\t\tif (this.filtered){     //假如被排除了，那么所有的状态都为未选中（亦即永远选不中）\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tvar width = this.width > 40 ? this.width : 40;\r\n\t\tvar height = this.width > 40 ? this.width : 40;\r\n\t\tif (this.width === this.height && this.geometryType === \"circle\") {\r\n\t\t\tif (Math.pow((mouseX - this.position.x), 2) + Math.pow((mouseY - this.position.y), 2) <= Math.pow(width / 2, 2)) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (mouseX >= this.position.x - width / 2 && mouseX <= this.position.x + width / 2 && mouseY >= this.position.y - height / 2 && mouseY <= this.position.y + height / 2) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\t//判断ButtonPlus的状态（加强版）\r\n\tButtonPlus.prototype.getState = function () {\r\n\t\t/**\r\n\t\t * hover (pState) ： 鼠标悬浮（被选中）\r\n\t\t * press (pState) ： 鼠标按下\r\n\t\t * click (pState) ： 鼠标点击\r\n\t\t * mouseOut (pState) ： 鼠标从button上移开/未被选中\r\n\t\t * on (pSwitch) : Button处于开启状态\r\n\t\t * off (pSwitch) ： Button处于关闭状态\r\n\t\t */\r\n\t\tif (this.isSelected()) {\r\n\t\t\tif (this.pState == \"click\") {\r\n\t\t\t\tif (this.p.mouseIsPressed) {\r\n\t\t\t\t\tif (this.pState != \"mouseOut\") {\r\n\t\t\t\t\t\treturn \"press\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"click\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (this.constructor.prototype.hoverObjCount <= 0 || this.pState != \"mouseOut\") {\r\n\t\t\t\t\tif (this.p.mouseIsPressed) {\r\n\t\t\t\t\t\tif (this.pState == \"mouseOut\") {\r\n\t\t\t\t\t\t\treturn \"mouseOut\";\r\n\t\t\t\t\t\t} else {\t\r\n\t\t\t\t\t\t\t//如果button的大小小于90,则不出现press状态\r\n\t\t\t\t\t\t\tif(this.width >= this.maxWidth - 10){\r\n\t\t\t\t\t\t\t\treturn \"press\";\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\treturn \"hover\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (this.pState == \"press\") {\r\n\t\t\t\t\t\t\tif (this.pSwitch == \"on\") {\r\n\t\t\t\t\t\t\t\tthis.pSwitch = \"off\";\r\n\t\t\t\t\t\t\t\tthis.fire({ type: \"turnOff\" });\r\n\t\t\t\t\t\t\t\treturn \"hover\";\r\n\t\t\t\t\t\t\t} else {\r\n\t\r\n\t\t\t\t\t\t\t\tthis.pSwitch = \"on\";\r\n\t\t\t\t\t\t\t\tthis.fire({ type: \"turnOn\" });\r\n\t\t\t\t\t\t\t\treturn \"click\";\r\n\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (this.pState != \"hover\") {\r\n\t\t\t\t\t\t\t\t//first\r\n\t\t\t\t\t\t\t\tthis.constructor.prototype.hoverObjCount += 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn \"hover\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"mouseOut\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.pState == \"click\") {\r\n\t\t\t\treturn \"click\";\r\n\t\t\t} else {\r\n\t\t\t\tif (this.p.mouseIsPressed && this.pSwitch == \"on\") {\r\n\t\t\t\t\tthis.pSwitch = \"off\";\r\n\t\t\t\t\tthis.fire({ type: \"turnOff\" });\r\n\t\t\t\t}\r\n\t\t\t\tif (this.pState == \"hover\" || this.pState == \"press\") {\r\n\t\t\t\t\tthis.constructor.prototype.hoverObjCount -= 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn \"mouseOut\";\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\tButtonPlus.prototype.update = function (){\r\n\t\tthis.trans_position = new p5.Vector(this.position.x + this.constructor.prototype.trans[this.constructor.prototype.trans.length - 1].x, this.position.y + this.constructor.prototype.trans[this.constructor.prototype.trans.length - 1].y);\r\n\t};\r\n\t//根据不同的状态绘制ButtonPlus（加强版）\r\n\tButtonPlus.prototype.display = function () {\r\n\t\tthis.update();\r\n\t\tif (this.strokeCol) {\r\n\t\t\tthis.p.stroke(this.strokeCol);\r\n\t\t} else {\r\n\t\t\tthis.p.noStroke();\r\n\t\t}\r\n\t\r\n\t\tthis.p.rectMode('center');\r\n\t\tthis.state = this.getState();\r\n\t\tthis.cursorState(this.state);  //鼠标状态\r\n\t\tswitch (this.state) {\r\n\t\t\tcase \"hover\":\r\n\t\t\t\t//音效\r\n\t\t\t\tif (this.pState == \"mouseOut\") {         //首次hover\r\n\t\t\t\t\tif (this.sound) this.sound.play();\r\n\t\t\t\t}\r\n\t\t\t\tthis.fillCol = this.buttonCol;\r\n\t\t\t\t//this.p.fill(this.fillCol);\r\n\t\t\t\tthis.drawObj();\r\n\t\t\t\tif (this.width > this.maxWidth) {\r\n\t\t\t\t\tthis.breath = true;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tvar s = 1.1;\r\n\t\t\t\tif (this.breath) {\r\n\t\t\t\t\t//呼吸效果\r\n\t\t\t\t\tif (!this.breathState && this.width <= this.maxWidth) {\r\n\t\t\t\t\t\tthis.width *= 1.002;\r\n\t\t\t\t\t\tthis.height *= 1.002;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.breathState = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.breathState && this.width > this.maxWidth - 10) {\r\n\t\t\t\t\t\tthis.width *= 0.995;\r\n\t\t\t\t\t\tthis.height *= 0.995;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.breathState = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//放大\r\n\t\t\t\t\tif (this.width <= this.maxWidth) {\r\n\t\t\t\t\t\tthis.width *= s;\r\n\t\t\t\t\t\tthis.height *= s;\r\n\t\t\t\t\t} else {\r\n\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tthis.fire({ type: \"hover\" });\r\n\t\t\t\tthis.pState = \"hover\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"mouseOut\":\r\n\t\t\t\tif (this.buttonCol) {\r\n\t\t\t\t\tthis.fillCol = this.buttonCol;\r\n\t\t\t\t}\r\n\t\t\t\tthis.drawObj();\r\n\t\t\t\tthis.breath = false;\r\n\t\r\n\t\t\t\t//缩小\r\n\t\t\t\tvar s = 0.95;\r\n\t\t\t\tif (this.width > this.w) {\r\n\t\t\t\t\tthis.width *= s;\r\n\t\t\t\t\tthis.height *= s;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tthis.fire({ type: \"mouseOut\" });\r\n\t\t\t\tthis.pState = \"mouseOut\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"press\":\r\n\t\t\t\tthis.fillCol = this.pressCol;\r\n\t\t\t\tthis.drawObj();\r\n\t\t\t\tthis.fire({ type: \"press\" });\r\n\t\t\t\tthis.pState = \"press\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"click\":\r\n\t\t\t\tthis.fillCol = this.clickCol;\r\n\t\t\t\tthis.drawObj();\r\n\t\r\n\t\t\t\t//点击反馈\r\n\t\t\t\tif (this.pState === \"press\") {\r\n\t\t\t\t\tthis.clickTimeline = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.clickTimeline++;\r\n\t\t\t\t}\r\n\t\t\t\t// if (this.clickTimeline < 40) {\r\n\t\t\t\t// \tthis.p.stroke(200, 200, 200, 200 - this.clickTimeline * 5);\r\n\t\t\t\t// \tthis.p.strokeWeight(10 - this.clickTimeline / 4);\r\n\t\t\t\t// \tthis.p.noFill();\r\n\t\t\t\t// \tthis.p.ellipse(this.position.x, this.position.y, this.width + Math.sqrt(this.clickTimeline * 50, 2), this.height + Math.sqrt(this.clickTimeline * 50, 2));\r\n\t\t\t\t// }\r\n\t\r\n\t\r\n\t\t\t\tthis.fire({ type: \"click\" });\r\n\t\t\t\tthis.pState = \"click\";\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tif (this.buttonCol) {\r\n\t\t\t\t\tthis.fillCol = this.buttonCol;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.fillCol = this.p.color(0, 0, 100);\r\n\t\t\t\t}\r\n\t\t\t\tthis.drawObj();\r\n\t\t}\r\n\t};\r\n\t\r\n\t//ButtonPlus状态重置\r\n\tButtonPlus.stateReset = function () {\r\n\t\tthis.prototype.hoverObjCount = 0;\r\n\t};\r\n\t\r\n\tButtonPlus.prototype.drawObj = function (){\r\n\t\tif (this.filtered){\r\n\t\t\tthis.drawFilteredObj();\r\n\t\t}else{\r\n\t\t\tthis.drawGeometry();\r\n\t\t}\r\n\t};\r\n\t\r\n\tButtonPlus.prototype.drawFilteredObj = function (){\r\n\t\t//this.strokeCol ? this.p.stroke(this.strokeCol) : this.p.noStroke();\r\n\t\tthis.p.fill(this.p.color(200,200,200));\r\n\t\tthis.p.push();\r\n\t\tthis.p.translate(this.position.x, this.position.y);\r\n\t\tthis.p.ellipse(0, 0, this.width, this.height);\r\n\t\tthis.p.pop();\r\n\t};\r\n\t\r\n\tButtonPlus.prototype.trans = [{\r\n\t\tx : 0,\r\n\t\ty : 0\r\n\t}];\r\n\t\r\n\tButtonPlus.prototype._trans = null;\r\n\t\r\n\tButtonPlus.translate = function (x, y, p){\r\n\t\tp.translate(x,y);\r\n\t\tthis.prototype._trans = {\r\n\t\t\tx : this.prototype.trans[this.prototype.trans.length - 2].x + x,       //什么bug来的！！！！！Array最后一个竟然是length - 2！！！！！！\r\n\t\t\ty : this.prototype.trans[this.prototype.trans.length - 2].y + y\r\n\t\t};\r\n\t};\r\n\t\r\n\tButtonPlus.pushMatrix = function (p){\r\n\t\tp.push();\r\n\t\tif (this.prototype._trans === null){\r\n\t\t\tthis.prototype.trans.push({\r\n\t\t\t\tx : this.prototype.trans[this.prototype.trans.length - 1].x,\r\n\t\t\t\ty : this.prototype.trans[this.prototype.trans.length - 1].y\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tthis.prototype.trans.push({\r\n\t\t\t\tx : this.prototype._trans.x,\r\n\t\t\t\ty : this.prototype._trans.y\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\tButtonPlus.popMatrix = function (p){\r\n\t\tif (this.prototype.trans.length > 0){\r\n\t\t\tp.pop();\r\n\t\t\tthis.prototype.trans.pop();\r\n\t\t}\r\n\t};\r\n\t\r\n\tmodule.exports = ButtonPlus;\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar util = __webpack_require__(2);\r\n\tvar Particle = __webpack_require__(5);\r\n\tvar globalVar = __webpack_require__(1);\r\n\t\r\n\tvar ButtonParticle = function (options){\r\n\t\tParticle.call(this,{\r\n\t\t\tvisualObject : options.visualObject,   //visualObject为实现了display方法的对象\r\n\t\t\tp : options.p,\r\n\t\t\treflect : false,\r\n\t\t\ttopspeed : options.topspeed,   //控制最高速度\r\n\t\t\tacceleration : options.acceleration,\r\n\t\t\tvelocity : options.velocity\r\n\t\t});\r\n\t\t//this.strength = 0.1;\r\n\t\tthis.vortexAttract = options.vortexAttract || true;   //vortexAttract确定button是被直线吸引还是漩涡吸引\r\n\t\tthis.xoff = Math.random() * 10;    //用于生产noise随机数\r\n\t};\r\n\tutil.inheritPrototype(ButtonParticle, Particle);\r\n\t\r\n\t//粒子作用力\r\n\tButtonParticle.prototype.applyForce = function(force){\r\n\t\tthis.acceleration.add(force);\r\n\t};\r\n\t\r\n\t//更新粒子状态\r\n\tButtonParticle.prototype.update = function(){\r\n\t\tif (this.attractPt){\r\n\t\t\tvar vect = p5.Vector.sub(this.visualObject.position,this.attractPt.position);\r\n\t\t\tvar len = vect.mag();\r\n\t\t\tif (this.vortexAttract){                  //两种吸引方式，两种运动模式\r\n\t\t\t\tvar options = {\r\n\t\t\t\t\tb : this,\r\n\t\t\t\t\tthreshold : 400 \r\n\t\t\t\t};\r\n\t\t\t\tvar force = this.attractPt.attract(options);   //引力与漩涡力\r\n\t\t\t\tthis.applyForce(force);\r\n\t\t\t\t\r\n\t\t\t\tvar randomVect = this.velocity.copy();   //影响运行路径的随机向量防止所以的button都在运行一模一样的路径\r\n\t\t\t\trandomVect.mult(0.3);\r\n\t\t\t\t\r\n\t\t\t\tthis.xoff += 0.01;    \r\n\t\t\t\tvar effectAngle = (this.p.noise(this.xoff) - 0.5) * 2    //-1 to 1\r\n\t\t\t\t* (Math.PI / 2 * 0.1);  \r\n\t\t\t\trandomVect.rotate(effectAngle);\r\n\t\t\t\tthis.velocity.add(randomVect);\r\n\t\t\t\t\r\n\t\t\t\tif (this.reflect){\r\n\t\t\t\t\tif(this.visualObject.position.x < this.visualObject.width/2 || this.visualObject.position.x > this.p.width - this.visualObject.width/2){\r\n\t\t\t\t\t\tthis.velocity.x *= -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.visualObject.position.y < this.visualObject.height/2 || this.visualObject.position.y > this.p.height - this.visualObject.height/2){\r\n\t\t\t\t\t\tthis.velocity.y *= -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//无限符号（∞）运动路径的实现\r\n\t\t\t\tvar angle = vect.heading();\r\n\t\t\t\t\r\n\t\t\t\tif(!this.attractPt.clocklwise && len < 200 && angle < Math.PI/4 && angle > 0){\r\n\t\t\t\t\tthis.attractPt = globalVar.attractPtR;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(this.attractPt.clockwise && len < 200 && angle < 3 * Math.PI/4 && angle > Math.PI/2){\r\n\t\t\t\t\t\tthis.attractPt = globalVar.attractPtL;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.velocity.add(this.acceleration);   //更新速度\r\n\t\t\t\tthis.velocity.limit(this.topspeed);    //限制最高速度\r\n\t\t\t\tthis.acceleration.mult(0);  //加速度清零\r\n\t\t\t}else{       //align模式的吸引方式（easing）\r\n\t\t\t\tvect.mult(-0.1);\r\n\t\t\t\tthis.velocity = vect;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.visualObject.position.add(this.velocity);   //更新位置\r\n\t};\r\n\t\r\n\t//绘制粒子\r\n\tButtonParticle.prototype.display = function(){\r\n\t\tif(this.visualObject.pState != \"click\" && this.visualObject.pState != \"hover\" && this.visualObject.pState != \"press\"){\r\n\t\t\tthis.update();\r\n\t\t}\r\n\t\tthis.visualObject.display();\r\n\t};\r\n\t\r\n\tmodule.exports = ButtonParticle;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tvar Particle = function (options){\r\n\t\tthis.visualObject = options.visualObject;   //visualObject为实现了position属性与display方法的对象\r\n\t\tthis.p = options.p;\r\n\t\tthis.reflect = false;\r\n\t\tthis.topspeed = options.topspeed || Math.random() * 3 + 2;  //控制最高速度\r\n\t    this.acceleration = options.acceleration ?  options.acceleration.copy() : new p5.Vector(0,0);  //加速度\r\n\t    this.velocity = options.velocity ?  options.velocity.copy() : new p5.Vector(    //速度\r\n\t        Math.random()*((Math.random()>0.5)?-0.5:0.5),\r\n\t        Math.random()-((Math.random()>0.5)?0.5:1)\r\n\t    );\r\n\t}\r\n\t\r\n\t//粒子作用力\r\n\tParticle.prototype.applyForce = function(force){\r\n\t\tthis.acceleration.add(force);\r\n\t}\r\n\t\r\n\t//更新粒子状态\r\n\tParticle.prototype.update = function(){\r\n\t\t//速度\r\n\t\tif(!this.velocity){\r\n\t\t\tvar random1 = Math.random()*((Math.random()>0.5)?-0.5:0.5);\r\n\t\t\tvar random2 = Math.random()-((Math.random()>0.5)?0.5:1);\r\n\t\t\tthis.velocity = new p5.Vector(random1,random2);\r\n\t\t}\r\n\t\t\r\n\t\tthis.velocity.add(this.acceleration);\r\n\t\tthis.acceleration.mult(0);  //加速度清零\r\n\t\t\r\n\t\tif(this.reflect){\r\n\t\t\tif(this.visualObject.position.x < this.visualObject.width/2 || this.visualObject.position.x > this.p.width - this.visualObject.width/2){\r\n\t\t\t\tthis.velocity.x *= -1;\r\n\t\t\t}\r\n\t\t\tif(this.visualObject.position.y < this.visualObject.height/2 || this.visualObject.position.y > this.p.height - this.visualObject.height/2){\r\n\t\t\t\tthis.velocity.y *= -1;\r\n\t\t\t}\r\n\t\t}else{\r\n\t        if(this.visualObject.position.x < -this.visualObject.width/2){\r\n\t            this.visualObject.position.x = this.p.width + this.visualObject.width - Math.abs(this.visualObject.position.x);\r\n\t        } \r\n\t        if(this.visualObject.position.x > this.p.width + this.visualObject.width/2){\r\n\t\t\t\tthis.visualObject.position.x = this.visualObject.position.x - this.p.width - this.visualObject.width;\r\n\t\t\t}\r\n\t        if(this.visualObject.position.y < -this.visualObject.height/2){\r\n\t            this.visualObject.position.y = this.p.height + this.visualObject.height - Math.abs(this.visualObject.position.y);\r\n\t        }\r\n\t        if(this.visualObject.position.y > this.p.height + this.visualObject.height/2){\r\n\t\t\t\tthis.visualObject.position.y = this.visualObject.position.y - this.p.height - this.visualObject.height;\r\n\t\t\t}\r\n\t    }\r\n\t\t\r\n\t\tthis.velocity.limit(this.topspeed);\r\n\t\r\n\t\tthis.visualObject.position.add(this.velocity);\r\n\t}\r\n\t\r\n\t//绘制粒子\r\n\tParticle.prototype.display = function(){\r\n\t\tthis.update();\r\n\t\tthis.visualObject.display();\r\n\t}\r\n\t\r\n\tmodule.exports = Particle;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t/**\r\n\t * VisualObject\r\n\t * by:Zzzz\r\n\t * date:2016-05-03\r\n\t */\r\n\tvar VisualObject = function (options) {\r\n\t\tthis.position = options.position.copy();  //位置\r\n\t\tthis.width = options.width;  //宽度\r\n\t\tthis.height = options.height;  //高度\r\n\t\tthis.p = options.p;  //p5实例 \r\n\t\tthis.fillCol = options.fillCol || this.p.color(200,200,200,100);\r\n\t}\r\n\t\r\n\tVisualObject.prototype.update = function(){\r\n\t}\r\n\t\r\n\t//根据不同的状态绘制Button\r\n\tVisualObject.prototype.display = function () {\r\n\t\tthis.update();\r\n\t\tthis.drawGeometry();\r\n\t}\r\n\t\r\n\t// 绘制几何图形\r\n\tVisualObject.prototype.drawGeometry = function () {\r\n\t\tthis.strokeCol ? this.p.stroke(this.strokeCol) : this.p.noStroke();\r\n\t\tthis.p.fill(this.fillCol);\r\n\t\tthis.p.push();\r\n\t\tthis.p.translate(this.position.x, this.position.y);\r\n\t\tthis.p.ellipse(0, 0, this.width, this.height);\r\n\t\tthis.p.pop();\r\n\t}\r\n\t\r\n\t\r\n\tmodule.exports = VisualObject;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * 吸引点\r\n\t */\r\n\tvar ButtonParticle = __webpack_require__(4);\r\n\t\r\n\tvar AttractPoint = function (options){\r\n\t\tthis.position = options.position.copy();\r\n\t\t//this.strength = options.strength;\r\n\t\tthis.p = options.p;\r\n\t\tthis.clockwise = options.clockwise || false;\r\n\t\tthis.vortex = options.vortex || false;\r\n\t}\r\n\t\r\n\tAttractPoint.prototype.attract = function (options){\r\n\t\tvar force = this.vortex ? this.vortexAttract(options) : this.linearAttract(options);\r\n\t\treturn force;\r\n\t}\r\n\t\r\n\tAttractPoint.prototype.linearAttract = function (options){\r\n\t\tif(options.b instanceof ButtonParticle){\r\n\t\t\tvar force = p5.Vector.sub(this.position,options.b.visualObject.position);\r\n\t\t\tvar dist = force.mag();\r\n\t\t\tforce.normalize();\r\n\t\t\tforce.mult(dist * 0.618);\r\n\t\t\treturn force;\r\n\t\t}\r\n\t}\r\n\tAttractPoint.prototype.vortexAttract = function (options){\r\n\t\tif(options.b instanceof ButtonParticle){\r\n\t\t\tvar force = p5.Vector.sub(this.position,options.b.visualObject.position);\r\n\t\t\t\r\n\t\t\tvar ff = force.copy();\r\n\t\t\tif(this.clockwise){\r\n\t\t\t\tff.rotate(-Math.PI/2);\r\n\t\t\t}else{\r\n\t\t\t\tff.rotate(Math.PI/2);\r\n\t\t\t}\r\n\t\t\tff.setMag(options.threshold);\r\n\t\t\tforce.add(ff);\r\n\t\t\tforce.limit(1);\r\n\t\t\treturn force;\r\n\t\t}\r\n\t}\r\n\t\r\n\tAttractPoint.prototype.display = function(){\r\n\t\tthis.p.fill(200);\r\n\t\tthis.p.ellipse(this.position.x,this.position.y,50,50);\r\n\t}\r\n\t\r\n\tmodule.exports = AttractPoint;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * Button类，基于p5.js\r\n\t * by:Zzzz\r\n\t * date:2016-03-03\r\n\t */\r\n\t\r\n\tvar util = __webpack_require__(2);\r\n\tvar VisualObject = __webpack_require__(6);\r\n\t\r\n\tvar Button = function (options) {\r\n\t\tVisualObject.call(this,{\r\n\t\t\tposition : options.position,  //位置\r\n\t\t\twidth : options.width,   //宽度\r\n\t\t\theight : options.height,  //高度\r\n\t\t\tp : options.p,  //p5实例\r\n\t\t\tfillCol : options.fillCol\r\n\t\t});\r\n\t\tthis.pState = \"mouseOut\";  //Button初始状态\r\n\t\tthis.state;\r\n\t\tthis.pSwitch = \"off\";   //Button初始状态\r\n\t\tthis.hoverCol = options.hoverCol || this.p.color(\"#06799F\");  //鼠标悬浮时Button的颜色\r\n\t\tthis.pressCol = options.pressCol || this.p.color(\"#D9534F\");  //鼠标按下时Button的颜色\r\n\t\tthis.clickCol = options.clickCol || this.p.color(\"#D9534F\");  //Button处于on状态时的颜色\r\n\t\tthis.positions = [];  //储存位置\r\n\t\tthis.handlers = {};  //事件处理程序\r\n\t}\r\n\tutil.inheritPrototype(Button, VisualObject);\r\n\t\r\n\t//判断Button是否被选中\r\n\tButton.prototype.isSelected = function () {\r\n\t\tvar translateX = globalVar.translate[globalVar.translate.length - 1].x,      //p5的bug,translate后,鼠标位置出错.\r\n\t\t\ttranslateY = globalVar.translate[globalVar.translate.length - 1].y,\r\n\t\t\tmouseX = this.p.mouseX - translateX,\r\n\t\t\tmouseY = this.p.mouseY - translateY;\r\n\t\r\n\t\tif (mouseX >= this.position.x - width / 2 && mouseX <= this.position.x + width / 2 && mouseY >= this.position.y - height / 2 && mouseY <= this.position.y + height / 2) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t\r\n\t//判断Button的状态\r\n\tButton.prototype.getState = function () {\r\n\t\t/**\r\n\t\t * hover (pState) ： 鼠标悬浮（被选中）\r\n\t\t * press (pState) ： 鼠标按下\r\n\t\t * click (pState) ： 鼠标点击\r\n\t\t * mouseOut (pState) ： 鼠标从button上移开/未被选中\r\n\t\t * on (pSwitch) : Button处于开启状态\r\n\t\t * off (pSwitch) ： Button处于关闭状态\r\n\t\t */\r\n\t\tif (this.isSelected()) {\r\n\t\t\tif (this.pState == \"click\") {\r\n\t\t\t\tif (this.p.mouseIsPressed) {\r\n\t\t\t\t\treturn \"press\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"click\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (this.p.mouseIsPressed) {\r\n\t\t\t\t\treturn \"press\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.pState == \"press\") {\r\n\t\t\t\t\t\tif (this.pSwitch == \"on\") {\r\n\t\t\t\t\t\t\tthis.pSwitch = \"off\";\r\n\t\t\t\t\t\t\treturn \"hover\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.pSwitch = \"on\";\r\n\t\t\t\t\t\t\treturn \"click\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn \"hover\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.pState == \"click\") {\r\n\t\t\t\treturn \"click\";\r\n\t\t\t} else {\r\n\t\t\t\treturn \"mouseOut\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t//鼠标指针图形\r\n\tButton.prototype.cursorState = function(state){\r\n\t\tif(this.constructor.prototype.hoverObjCount == 0){\r\n\t\t\t$(this.p.canvas).css(\"cursor\",\"default\");\r\n\t\t}else{\r\n\t\t\tif(state != \"mouseOut\"){\r\n\t\t\t\tif(this.isSelected()){\r\n\t\t\t\t\t$(this.p.canvas).css(\"cursor\",\"pointer\");\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(this.p.canvas).css(\"cursor\",\"default\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tButton.prototype.update = function(){\r\n\t}\r\n\t\r\n\t//根据不同的状态绘制Button\r\n\tButton.prototype.display = function () {\r\n\t\t//this.update();\r\n\t\tif (this.strokeCol) {\r\n\t\t\tthis.p.stroke(this.strokeCol);\r\n\t\t} else {\r\n\t\t\tthis.p.noStroke();\r\n\t\t}\r\n\t\tthis.p.rectMode('center');\r\n\t\tthis.tate = this.getState();\r\n\t\tswitch (this.tate) {\r\n\t\t\tcase \"hover\":\r\n\t\t\t\tthis.fillCol = this.hoverCol;\r\n\t\t\t\tthis.drawGeometry();\r\n\t\t\t\tthis.fire({ type: \"hover\" });\r\n\t\t\t\tthis.pState = \"hover\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"mouseOut\":\r\n\t\t\t\tif (this.buttonCol) {\r\n\t\t\t\t\tthis.fillCol = this.buttonCol;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.fillCol = this.p.color(0, 0, 100);\r\n\t\t\t\t}\r\n\t\t\t\tthis.drawGeometry();\r\n\t\t\t\tthis.fire({ type: \"mouseOut\" });\r\n\t\t\t\tthis.pState = \"mouseOut\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"press\":\r\n\t\t\t\tthis.fillCol = this.pressCol;\r\n\t\t\t\tthis.drawGeometry();\r\n\t\t\t\tthis.fire({ type: \"press\" });\r\n\t\t\t\tthis.pState = \"press\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"click\":\r\n\t\t\t\tthis.fillCol = this.clickCol;\r\n\t\t\t\tthis.drawGeometry();\r\n\t\t\t\tthis.fire({ type: \"click\" });\r\n\t\t\t\tthis.pState = \"click\";\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tif (this.buttonCol) {\r\n\t\t\t\t\tthis.fillCol = this.buttonCol;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.fillCol = this.p.color(0, 0, 100);\r\n\t\t\t\t}\r\n\t\t\t\tthis.drawGeometry();\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t//事件相关\r\n\tButton.prototype.addHandler = function (type, handler) {\r\n\t\tif (typeof this.handlers[type] == \"undefined\") {\r\n\t\t\tthis.handlers[type] = [];\r\n\t\t}\r\n\t\tthis.handlers[type].push(handler);\r\n\t}\r\n\tButton.prototype.fire = function (event) {\r\n\t\tif (!event.target) {\r\n\t\t\tevent.target = this;\r\n\t\t}\r\n\t\tif (this.handlers[event.type] instanceof Array) {\r\n\t\t\tvar handlers = this.handlers[event.type];\r\n\t\t\tfor (var i = 0, len = handlers.length; i < len; i++) {\r\n\t\t\t\thandlers[i](event);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tButton.prototype.removeHandler = function (type, handler) {\r\n\t\tif (this.handlers[type] instanceof Array) {\r\n\t\t\tvar handlers = this.handlers[type];\r\n\t\t\tfor (var i = 0, len = handlers.length; i < len; i++) {\r\n\t\t\t\tif (handers[i] === handler) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\thandlers.splice(i, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tmodule.exports = Button;\r\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * 定义与Button绑定的事件处理程序\r\n\t */\r\n\tvar util = __webpack_require__(2);\r\n\tvar globalVar = __webpack_require__(1);\r\n\tvar getPostContent = __webpack_require__(12);\r\n\t\r\n\tvar eventHandleFunc = {\r\n\t    clicked_animation : function (event){\r\n\t        event.target.p.noStroke();\r\n\t        event.target.p.fill(0);\r\n\t        event.target.p.textAlign(\"center\");\r\n\t        event.target.p.stroke(255);\r\n\t        event.target.p.strokeWeight(5);\r\n\t        event.target.p.push();\r\n\t        event.target.p.translate(event.target.position.x,event.target.position.y);\r\n\t        \r\n\t        if (event.target.clickTimeline > 100000000) event.target.clickTimeline = 0;\r\n\t        \r\n\t        if(event.target.clickTimeline < 40){\r\n\t            event.target.p.rotate(event.target.p.map(event.target.clickTimeline,0,40,0,Math.PI/4));\r\n\t        }else{\r\n\t            event.target.p.rotate(Math.PI/4);\r\n\t        }\r\n\t        event.target.p.line(-12,0,12,0);\r\n\t        event.target.p.line(0,-12,0,12);\r\n\t        event.target.p.pop();\r\n\t        \r\n\t        event.target.p.noFill();\r\n\t        var n = event.target.clickTimeline % 200;\r\n\t        event.target.p.stroke(200, 200,200, 200 - n);\r\n\t        event.target.p.strokeWeight(10 - n / 20);\r\n\t        \r\n\t        for (var i = 0; i < 3; i++){\r\n\t            event.target.p.ellipse(event.target.position.x, event.target.position.y, event.target.height + Math.sqrt((n - 60 * i) * 10, 2), event.target.height + Math.sqrt((n - 60 * i) * 10, 2));\r\n\t        }\r\n\t        \r\n\t        event.target.p.stroke('gray');\r\n\t        event.target.p.strokeWeight(1);\r\n\t        if(event.target.clickTimeline < 100){\r\n\t            event.target.p.line(event.target.position.x, event.target.position.y + event.target.width / 2, event.target.position.x, Math.max(event.target.position.y + 15 * event.target.clickTimeline, event.target.position.y + event.target.width / 2));\r\n\t        }else{\r\n\t            event.target.p.line(event.target.position.x, event.target.position.y + event.target.width / 2, event.target.position.x, event.target.position.y + 1500);\r\n\t        }\r\n\t    },\r\n\t\r\n\t    showShortUserInfo : function (event){\r\n\t        if(event.target.pState !== \"hover\"){ \r\n\t            var top = Math.floor(event.target.position.y + globalVar.navigationBarHeight + event.target.constructor.prototype.trans[event.target.constructor.prototype.trans.length - 1].y);\r\n\t            var left = Math.floor(event.target.position.x + event.target.constructor.prototype.trans[event.target.constructor.prototype.trans.length - 1].x);  \r\n\t            \r\n\t            var sortInfoFrame = document.getElementById(\"sortInfoFrame\");\r\n\t            if(sortInfoFrame){\r\n\t                $(\"#sortInfoFrame\").fadeIn(0);\r\n\t                sortInfoFrame.innerHTML = \"\";\r\n\t            }else{\r\n\t                sortInfoFrame = document.createElement(\"div\");\r\n\t                sortInfoFrame.id = \"sortInfoFrame\";\r\n\t            }\r\n\t            sortInfoFrame.style.top = top - 50 + \"px\";\r\n\t            sortInfoFrame.style.left = left + 80 + \"px\";\r\n\t\r\n\t            var img = document.createElement(\"img\");\r\n\t            img.src = event.target.info['avatar'];\r\n\t            img.style.cssText = \"width:100px;height:100px;border-radius:5px;-moz-border-radius:5px;\";\r\n\t            sortInfoFrame.appendChild(img);\r\n\t\r\n\t            var name = document.createElement(\"div\");\r\n\t            name.innerHTML = \"<b>名字：</b>\" + event.target.info['name'];\r\n\t            name.style.cssText = \"margin-top:20px\";\r\n\t            sortInfoFrame.appendChild(name);\r\n\t\r\n\t            document.body.appendChild(sortInfoFrame);\r\n\t        }\r\n\t\r\n\t    },\r\n\t\r\n\t    showShortPostInfo : function (event){\r\n\t        if(event.target.pState !== \"hover\"){\r\n\t            // var sketch = document.getElementById(\"sketch\");\r\n\t            var top = Math.floor(event.target.position.y + globalVar.navigationBarHeight + event.target.constructor.prototype.trans[event.target.constructor.prototype.trans.length - 1].y);\r\n\t            var left = Math.floor(event.target.position.x + event.target.constructor.prototype.trans[event.target.constructor.prototype.trans.length - 1].x);\r\n\t               \r\n\t            var sortInfoFrame = document.getElementById(\"sortInfoFrame\");\r\n\t            if(sortInfoFrame){\r\n\t                $(\"#sortInfoFrame\").fadeIn(0);\r\n\t                sortInfoFrame.innerHTML = \"\";\r\n\t            }else{\r\n\t                sortInfoFrame = document.createElement(\"div\");\r\n\t                sortInfoFrame.id = \"sortInfoFrame\";\r\n\t            }\r\n\t            sortInfoFrame.style.top = top - 50 + \"px\";\r\n\t            sortInfoFrame.style.left = left + 80 + \"px\";\r\n\t\r\n\t            var img = document.createElement(\"img\");\r\n\t            img.src = event.target.info['thumbnail'];\r\n\t            img.style.cssText = \"width:100px;height:100px;border-radius:5px;-moz-border-radius:5px;\";\r\n\t            sortInfoFrame.appendChild(img);\r\n\t\r\n\t            var title = document.createElement(\"div\");\r\n\t            title.innerHTML = \"<b>作品：</b>\" + event.target.info['title'];\r\n\t            title.style.cssText = \"margin-top:20px\";\r\n\t            sortInfoFrame.appendChild(title);\r\n\t\r\n\t            document.body.appendChild(sortInfoFrame);\r\n\t        }\r\n\t\r\n\t    },\r\n\t\r\n\t    hideShortInfo : function (event){\r\n\t        if (event.target.hoverObjCount === 0 && event.target.pState===\"hover\") {\r\n\t            $(\"#sortInfoFrame\").fadeOut(0);\r\n\t        }\r\n\t        if (event.target.state === \"press\") {\r\n\t            $(\"#sortInfoFrame\").fadeOut(400);\r\n\t        }\r\n\t    },\r\n\t\r\n\t    showUserInfo : function (event){\r\n\t        var doc = document;\r\n\t        var sketch = document.getElementById(\"sketch\");\r\n\t\r\n\t        var infoFrame = document.getElementById(\"infoFrame\");\r\n\t        if(infoFrame){\r\n\t            infoFrame.style.visibility = \"visible\";\r\n\t            infoFrame.innerHTML = \"\";    //清空\r\n\t        }else{\r\n\t            infoFrame = doc.createElement(\"div\");\r\n\t            infoFrame.id = \"infoFrame\";\r\n\t        }\r\n\t\r\n\t        var introduction = doc.createElement(\"div\");\r\n\t        introduction.id = \"introduction\";\r\n\t\r\n\t            var avatar = doc.createElement(\"img\");      //avatar\r\n\t            avatar.src = event.target.info['avatar'];\r\n\t            avatar.width = 80;\r\n\t            avatar.height = 80;\r\n\t            avatar.alt = event.target.info['name'];\r\n\t\r\n\t            var infoContainer = doc.createElement(\"div\");\r\n\t            infoContainer.id = \"infoContainer\";\r\n\t\r\n\t                var name = doc.createElement(\"div\");     //title\r\n\t                name.id += \"name\";\r\n\t                name.innerHTML = \"<h3>\" + event.target.info['name'] + \"</h3>\";\r\n\t\r\n\t                var postList = doc.createElement(\"div\");\r\n\t                postList.id = \"postList\";\r\n\t\r\n\t                var ps = event.target.info['posts'];\r\n\t                var fragment = doc.createDocumentFragment();\r\n\t                for(var i=0;i<ps.length;i++){\r\n\t                    var posts = doc.createElement(\"div\");     //author\r\n\t                    posts.className += \"postList\";\r\n\t                    posts.title = \"posts\";\r\n\t                    //posts.id = \"getPostContentButton\" + ps[i].id;\r\n\t                    posts.innerHTML = ps[i].title;\r\n\t                    posts.data_id = ps[i].id;\r\n\t                    posts.onclick = function (){\r\n\t                        getPostContent(this.data_id,true);\r\n\t                    };\r\n\t                    fragment.appendChild(posts);\r\n\t                }\r\n\t\r\n\t            var fragment_1 = doc.createDocumentFragment();\r\n\t\r\n\t            var major = doc.createElement(\"div\");\r\n\t            major.className += \"postMeta\";\r\n\t            major.title = \"major\";\r\n\t            major.innerHTML = \"专业：\" +  \"---\";\r\n\t\r\n\t            var unit = doc.createElement(\"div\");\r\n\t            unit.className += \"postMeta\";\r\n\t            unit.title = \"unit\";\r\n\t            unit.innerHTML = \"单位/学校：\" +  \"广州美术学院\";\r\n\t\r\n\t            var profession = doc.createElement(\"div\");\r\n\t            profession.className += \"postMeta\";\r\n\t            profession.title = \"profession\";\r\n\t            profession.innerHTML = \"职业：\" +  \"---\";\r\n\t\r\n\t            fragment_1.appendChild(major);\r\n\t            fragment_1.appendChild(unit);\r\n\t            fragment_1.appendChild(profession);\r\n\t\r\n\t        var postContent = document.getElementById(\"postContent\");\r\n\t        if (!postContent){\r\n\t            postContent = document.createElement(\"div\");\r\n\t            postContent.id = \"postContent\"\r\n\t            postContent.style.display = \"none\";\r\n\t        }\r\n\t\r\n\t        infoContainer.appendChild(name);\r\n\t        infoContainer.appendChild(fragment_1);\r\n\t\r\n\t        postList.appendChild(fragment);\r\n\t        introduction.appendChild(postList);\r\n\t        introduction.appendChild(avatar);\r\n\t        introduction.appendChild(infoContainer);\r\n\t\r\n\t        infoFrame.appendChild(introduction);\r\n\t        infoFrame.appendChild(postContent);\r\n\t        doc.body.appendChild(infoFrame);\r\n\t        \r\n\t        $(\"#infoFrame\").css(\"display\", \"none\");\r\n\t        $(\"#infoFrame\").fadeIn();\r\n\t    },\r\n\t\r\n\t    showPostInfo : function (event){\r\n\t        var doc = document;\r\n\t        var infoFrame = doc.getElementById(\"infoFrame\");    //infoFrame\r\n\t        if(infoFrame){\r\n\t            infoFrame.style.visibility = \"visible\";\r\n\t            infoFrame.innerHTML = \"\";    //清空\r\n\t        }else{\r\n\t            infoFrame = doc.createElement(\"div\");\r\n\t            infoFrame.id = \"infoFrame\";\r\n\t        }\r\n\t\r\n\t        var introduction = doc.createElement(\"div\");\r\n\t        introduction.id = \"introduction\";\r\n\t\r\n\t            var thumbnail = doc.createElement(\"img\");      //thumbnail\r\n\t            thumbnail.src = event.target.info['thumbnail'];\r\n\t            thumbnail.width = 80;\r\n\t            thumbnail.height = 80;\r\n\t            thumbnail.alt = event.target.info['title'];\r\n\t\r\n\t            var infoContainer = doc.createElement(\"div\");\r\n\t            infoContainer.id = \"infoContainer\";\r\n\t\r\n\t                var title = doc.createElement(\"div\");     //title\r\n\t                title.classList.add(\"title_link\");     //添加标题鼠标悬浮样式\r\n\t                title.onclick = function (){\r\n\t                    if (this.classList.contains(\"title_link\")){\r\n\t                        getPostContent(event.target.info['id'], false);  //false : no title\r\n\t                    }\r\n\t                    this.classList.remove(\"title_link\");     //删除标题鼠标悬浮样式\r\n\t                };\r\n\t                title.id += \"title\";\r\n\t                title.innerHTML = \"<h3>\" + event.target.info['title'] + \"</h3>\";\r\n\t\r\n\t                var author = doc.createElement(\"div\");     //author\r\n\t                author.className += \"postMeta\";\r\n\t                author.title = \"author\";\r\n\t                author.innerHTML = \"作者：\" + event.target.info['author'];\r\n\t\r\n\t                var productType = doc.createElement(\"div\");\r\n\t                productType.className += \"postMeta\";\r\n\t                productType.title = \"productType\";\r\n\t                productType.innerHTML = \"作品类型：\" + (event.target.info['productType'] || \"-----\");\r\n\t\r\n\t                var major = doc.createElement(\"div\");\r\n\t                major.className += \"postMeta\";\r\n\t                major.title = \"major\";\r\n\t                major.innerHTML = \"专业：\" + (event.target.info['major'] || \"---\") + \"-\" + (event.target.info['subMajor'] || \"---\");\r\n\t\r\n\t                var creationDate = doc.createElement(\"div\");\r\n\t                creationDate.className += \"postMeta\";\r\n\t                creationDate.title = \"creationDate\";\r\n\t                creationDate.innerHTML = \"创作年份：\" + (event.target.info['creationDate'] || \"-----\") + \"年\";\r\n\t\r\n\t        var postContent = document.createElement(\"div\");\r\n\t        postContent.id = \"postContent\";\r\n\t        postContent.style.display = \"none\";\r\n\t\r\n\t        infoContainer.appendChild(title);\r\n\t        infoContainer.appendChild(author);\r\n\t        infoContainer.appendChild(productType);\r\n\t        infoContainer.appendChild(major);\r\n\t        infoContainer.appendChild(creationDate);\r\n\t\r\n\t        introduction.appendChild(thumbnail);\r\n\t        introduction.appendChild(infoContainer);\r\n\t\r\n\t        infoFrame.appendChild(introduction);\r\n\t        infoFrame.appendChild(postContent);\r\n\t        doc.body.appendChild(infoFrame);\r\n\t\r\n\t        $(\"#infoFrame\").css(\"display\", \"none\");\r\n\t        $(\"#infoFrame\").fadeIn();\r\n\t    },\r\n\t\r\n\t    hideInfoFrame : function (event){\r\n\t        var doc = document;\r\n\t        var infoFrame = doc.getElementById(\"infoFrame\");\r\n\t        $(\"#infoFrame\").fadeOut(\"fast\",function (){infoFrame.style.visibility = \"hidden\";});\r\n\t    }\r\n\t\r\n\t};\r\n\t\r\n\tmodule.exports = eventHandleFunc;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * Created by zhang on 2016/5/8 0008.\r\n\t */\r\n\tvar globalVar = __webpack_require__(1);\r\n\tvar ButtonPlus = __webpack_require__(3);\r\n\t\r\n\tvar FilterButton = function (options){\r\n\t    this.type = options.type;\r\n\t    if (this.type !== \"cancel\"){\r\n\t        this.value = options.value;\r\n\t        this.switch = false;\r\n\t    }\r\n\t    this.keyword = options.keyword;\r\n\t\r\n\t\r\n\t    if (options.node){\r\n\t        this.node = options.node;\r\n\t    }else{\r\n\t        this.id = options.id;\r\n\t        this.text = options.text;\r\n\t        this.class = options.class;\r\n\t        this.parentId = options.parentId;\r\n\t        this.createElement();\r\n\t    }\r\n\t\r\n\t    //this.class = options.class;\r\n\t    //if (this.class){\r\n\t    //    this.node.classList += this.class;\r\n\t    //}\r\n\t    //this.node.classList += \"FilterButton\";\r\n\t    this.node.title = options.title;\r\n\t    this.attachEvent();\r\n\t};\r\n\t\r\n\tFilterButton.prototype.select = {};\r\n\t\r\n\tFilterButton.prototype.createElement = function (){\r\n\t    var doc = document;\r\n\t    this.node = doc.createElement(\"button\");\r\n\t    this.node.id = this.id;\r\n\t    this.node.className = this.class;\r\n\t    this.node.innerHTML = this.text;\r\n\t    //this.node.href = \"#\";\r\n\t    if (this.parentId){\r\n\t        var parentNode = doc.getElementById(this.parentId);\r\n\t        if (parentNode){\r\n\t            parentNode.appendChild(this.node);\r\n\t        }else{\r\n\t            doc.body.appendChild(this.node);\r\n\t        }\r\n\t    }else{\r\n\t        doc.body.appendChild(this.node);\r\n\t    }\r\n\t};\r\n\t\r\n\tFilterButton.prototype.doFilter = function (){\r\n\t    var BP = globalVar.displayArray.ButtonParticle;\r\n\t\r\n\t    for(var i = 0, len = BP.length; i < len; i++){\r\n\t        BP[i].visualObject.filtered = false;\r\n\t    }\r\n\t\r\n\t    var status = [];\r\n\t    for (i = 0, len = BP.length; i < len; i++) {\r\n\t        var m = 0;\r\n\t        for (var keyword in this.constructor.prototype.select) {\r\n\t            if (this.constructor.prototype.select[keyword].length === 0){      //如果有一列的多选按钮点击个数减少到0，则filter失效\r\n\t                if (m === 0){\r\n\t                    status[i] = false;\r\n\t                }else{\r\n\t                    status[i] |= false;\r\n\t                }\r\n\t                //BP[i].visualObject.filtered = false;\r\n\t                delete this.constructor.prototype.select[keyword];\r\n\t            }else{\r\n\t                if (this.constructor.prototype.select[keyword].indexOf(BP[i].visualObject.info[keyword]) === -1) {     // ===-1说明不存在\r\n\t                    if (BP[i].visualObject.pState === \"click\") {\r\n\t                        BP[i].visualObject.pState = \"mouseOut\";       //fliter切换后，将之前“click”状态的button改为普通状态，即状态重置\r\n\t                        ButtonPlus.prototype.hoverObjCount = 0;        //选中个数也必须重置\r\n\t                        BP[i].visualObject.fire({type: \"turnOff\"});     //ButtonPlus触发turnOff事件\r\n\t                    }\r\n\t\r\n\t                    if (m === 0){\r\n\t                        status[i] = true;\r\n\t                    }else{\r\n\t                        status[i] |= true;\r\n\t                    }\r\n\t                }else{\r\n\t                    if (m === 0){\r\n\t                        status[i] = false;\r\n\t                    }else{\r\n\t                        status[i] |= false;\r\n\t\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            m ++;\r\n\t        }\r\n\t    }\r\n\t\r\n\t    for(i = 0; i < len; i++){\r\n\t        BP[i].visualObject.filtered = status[i];\r\n\t    }\r\n\t};\r\n\t\r\n\tFilterButton.prototype.attachEvent = function (){\r\n\t    if (this.type !== \"cancel\"){\r\n\t        this.node.onclick = function (){\r\n\t            this.switch = this.switch ? false : true;\r\n\t\r\n\t            if (this.switch){                 //切换FilterButton的显示效果\r\n\t                this.node.classList.add(\"active\");\r\n\t\r\n\t                if(!this.constructor.prototype.select[this.keyword]){\r\n\t                    this.constructor.prototype.select[this.keyword] = [];\r\n\t                }\r\n\t                this.constructor.prototype.select[this.keyword].push(this.value);\r\n\t\r\n\t                for(var i in globalVar.filterButton){                                        //当该类型有按钮被按下时,激活该类型的删除按钮\r\n\t                    if (globalVar.filterButton[i].type === \"cancel\" && globalVar.filterButton[i].keyword === this.keyword){\r\n\t                        globalVar.filterButton[i].node.classList.add(\"cancelActive\");\r\n\t                    }\r\n\t                    if (globalVar.filterButton[i].type === \"cancel\" && globalVar.filterButton[i].keyword === undefined){\r\n\t                        globalVar.filterButton[i].node.classList.add(\"cancelActive\");\r\n\t                    }\r\n\t                }\r\n\t            }else{\r\n\t                this.node.classList.remove(\"active\");\r\n\t                var keyword = this.constructor.prototype.select[this.keyword];\r\n\t                if (keyword !== undefined){\r\n\t                    var id = keyword.indexOf(this.value);\r\n\t                    keyword.splice(id, 1);\r\n\t                }\r\n\t                if (keyword.length === 0){\r\n\t                    for(var i in globalVar.filterButton){                                        //当该类型的所有按钮没被按下时,取消激活该类型的删除按钮\r\n\t                        if (globalVar.filterButton[i].type === \"cancel\" && globalVar.filterButton[i].keyword === this.keyword){\r\n\t                            globalVar.filterButton[i].node.classList.remove(\"cancelActive\");\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t\r\n\t                this.disactiveCancelAll();    //当所有按钮没被按下时,取消激活cancelAll\r\n\t            }\r\n\t\r\n\t            this.doFilter();\r\n\t        }.bind(this);\r\n\t    }else{                                              //如果是删除按钮\r\n\t        this.node.onclick = function (){\r\n\t            if (this.keyword){\r\n\t                this.constructor.prototype.select[this.keyword] = [];\r\n\t\r\n\t                for (var i in globalVar.filterButton){        //清除某个类型的按钮\r\n\t                    if (globalVar.filterButton[i].switch && globalVar.filterButton[i].keyword === this.keyword){\r\n\t                        globalVar.filterButton[i].switch = globalVar.filterButton[i].switch ? false : true;\r\n\t                        globalVar.filterButton[i].node.classList.remove(\"active\");\r\n\t                    }\r\n\t                }\r\n\t\r\n\t                this.disactiveCancelAll();    //当所有按钮没被按下时,取消激活cancelAll\r\n\t\r\n\t            }else{                              //全部清除\r\n\t                for (var keyword in this.constructor.prototype.select) {\r\n\t                    this.constructor.prototype.select[keyword] = [];\r\n\t                }\r\n\t                for (i in globalVar.filterButton){\r\n\t                    if (globalVar.filterButton[i].switch){\r\n\t                        globalVar.filterButton[i].switch = globalVar.filterButton[i].switch ? false : true;\r\n\t                        globalVar.filterButton[i].node.classList.remove(\"active\");\r\n\t                    }\r\n\t                    if (globalVar.filterButton[i].type === \"cancel\"){\r\n\t                        globalVar.filterButton[i].node.classList.remove(\"cancelActive\");\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            this.node.classList.remove(\"cancelActive\");\r\n\t            this.doFilter();\r\n\t        }.bind(this);\r\n\t    }\r\n\t};\r\n\t\r\n\tFilterButton.prototype.disactiveCancelAll = function (){   //当所有按钮没被按下时,取消激活cancelAll\r\n\t    for (var i in this.constructor.prototype.select){\r\n\t        if (this.constructor.prototype.select[i].length !== 0){\r\n\t            return;\r\n\t        }\r\n\t    }\r\n\t    for(var i in globalVar.filterButton){\r\n\t        if (globalVar.filterButton[i].type === \"cancel\" && globalVar.filterButton[i].keyword === undefined){\r\n\t            globalVar.filterButton[i].node.classList.remove(\"cancelActive\");\r\n\t        }\r\n\t    }\r\n\t};\r\n\t\r\n\tmodule.exports = FilterButton;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\r\n\tvar eventHandleFunc = __webpack_require__(9);\r\n\tvar util = __webpack_require__(2);\r\n\tvar globalVar = __webpack_require__(1);\r\n\tvar ButtonParticle = __webpack_require__(4);\r\n\tvar ButtonPlus = __webpack_require__(3);\r\n\t\r\n\tvar getInfo = function (type,arg){\r\n\t\tglobalVar.displayArray.ButtonParticle = [];\r\n\t\t\r\n\t\tif(window.XMLHttpRequest){\r\n\t\t\tXMLHTTP=new XMLHttpRequest();\r\n\t\t}else{\r\n\t\t\tXMLHTTP=new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n\t\t}\r\n\t\r\n\t\tif(type === \"posts\"){\r\n\t\t\tXMLHTTP.onreadystatechange=function(){\r\n\t\t\t\tif(XMLHTTP.readyState==4 && XMLHTTP.status==200){\r\n\t\t\t\t\t//alert(XMLHTTP.responseText);\r\n\t\t\t\t\t$(\"#loading\").fadeOut();\r\n\t\t\t\t\tvar posts = JSON.parse(XMLHTTP.responseText);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(var item in posts){\r\n\t\t\t\t\t\tvar size = Math.random()*20 + 15;\r\n\t\t\t\t\t\tvar width = Math.max(document.documentElement.clientWidth ,960);\r\n\t\t\t\t\t\tvar height = Math.max(document.documentElement.clientHeight ,600);\r\n\t\t\t\t\t\tvar options = {\r\n\t\t\t\t\t\t\tposition : new p5.Vector((Math.random() * globalVar.width - 100) + 50,(Math.random() * globalVar.height - 60) + 30),\r\n\t\t\t\t\t\t\twidth : size,\r\n\t\t\t\t\t\t\theight : size,\r\n\t\t\t\t\t\t\tr : 25,\r\n\t\t\t\t\t\t\tp : globalVar.pp\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tvar optionsBP = {\r\n\t\t\t\t\t\t\tvisualObject : new ButtonPlus(options),\r\n\t\t\t\t\t\t\tp : globalVar.pp,\r\n\t\t\t\t\t\t\tvortexAttract : true\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar newObj = new ButtonParticle(optionsBP);\r\n\t\t\t\t\t\tnewObj.attractPt = globalVar.attractPtL;\r\n\t\r\n\t\t\t\t\t\tnewObj.visualObject.addHandler(\"click\",eventHandleFunc.clicked_animation);\r\n\t\t\t\t\t\tnewObj.visualObject.addHandler(\"turnOn\",eventHandleFunc.showPostInfo);\r\n\t\t\t\t\t\tnewObj.visualObject.addHandler(\"turnOn\",eventHandleFunc.hideShortInfo);\r\n\t\t\t\t\t\tnewObj.visualObject.addHandler(\"turnOff\",eventHandleFunc.hideInfoFrame);\r\n\t\t\t\t\t\tnewObj.visualObject.addHandler(\"hover\",eventHandleFunc.showShortPostInfo);\r\n\t\t\t\t\t\tnewObj.visualObject.addHandler(\"mouseOut\",eventHandleFunc.hideShortInfo);\r\n\t\r\n\t\t\t\t\t\tnewObj.visualObject.sound = globalVar.SOUNDFILE;\r\n\t\t\t\t\t\tnewObj.visualObject.info = posts[item];\r\n\t\t\t\t\t\tnewObj.visualObject.buttonCol = newObj.visualObject.info[\"color\"] || newObj.visualObject.p.color(Math.random() * 255, Math.random() * 255, Math.random() * 255);\r\n\t\t\t\t\t\tglobalVar.displayArray.ButtonParticle.push(newObj);\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\"#loading\").fadeIn();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tXMLHTTP.open(\"GET\",\"wp-content/themes/zbs/getPostInfo.php\");\r\n\t\t\tXMLHTTP.send();\r\n\t\t}else{\r\n\t\t\tif(type === \"users\"){\r\n\t\t\t\tXMLHTTP.onreadystatechange=function(){\r\n\t\t\t\t\tif(XMLHTTP.readyState==4 && XMLHTTP.status==200){\r\n\t\t\t\t\t\tvar users = JSON.parse(XMLHTTP.responseText);\r\n\t\t\t\t\t\t//alert(XMLHTTP.responseText);\r\n\t\t\t\t\t\t//console.log(XMLHTTP.responseText);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$(\"#loading\").fadeOut();\r\n\t\t\t\t\t\tvar i = 0;\r\n\t\t\t\t\t\tvar count = util.getJsonObjLength(users);\r\n\t\t\t\t\t\tfor(var item in users){\r\n\t\t\t\t\t\t\tvar size = Math.random()*20 + 20;\r\n\t\t\t\t\t\t\tvar options = {\r\n\t\t\t\t\t\t\t\tposition : new p5.Vector((Math.random() * globalVar.width - 100) + 50,(Math.random() * globalVar.height - 60) + 30),\r\n\t\t\t\t\t\t\t\twidth : size,\r\n\t\t\t\t\t\t\t\theight : size,\r\n\t\t\t\t\t\t\t\tr : 25,\r\n\t\t\t\t\t\t\t\tp : globalVar.pp\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvar optionsBP = {\r\n\t\t\t\t\t\t\t\tvisualObject : new ButtonPlus(options),\r\n\t\t\t\t\t\t\t\tp : globalVar.pp,\r\n\t\t\t\t\t\t\t\tvortexAttract : true\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvar newObj = new ButtonParticle(optionsBP);\r\n\t\t\t\t\t\t\tif(i < count/2){\r\n\t\t\t\t\t\t\t\tnewObj.attractPt = globalVar.attractPtL;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tnewObj.attractPt = globalVar.attractPtR;\r\n\t\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\t\tnewObj.visualObject.buttonCol = globalVar.pp.color(Math.random()*100, Math.random()*50, Math.random()*200,255);\r\n\t\t\t\t\t\t\tnewObj.visualObject.addHandler(\"click\",eventHandleFunc.clicked_animation);\r\n\t\t\t\t\t\t\tnewObj.visualObject.addHandler(\"turnOn\",eventHandleFunc.hideShortInfo);\r\n\t\t\t\t\t\t\tnewObj.visualObject.addHandler(\"turnOn\",eventHandleFunc.showUserInfo);\r\n\t\t\t\t\t\t\tnewObj.visualObject.addHandler(\"turnOff\",eventHandleFunc.hideInfoFrame);\r\n\t\t\t\t\t\t\tnewObj.visualObject.addHandler(\"hover\",eventHandleFunc.showShortUserInfo);\r\n\t\t\t\t\t\t\tnewObj.visualObject.addHandler(\"mouseOut\",eventHandleFunc.hideShortInfo);\r\n\t\t\t\t\t\t\tnewObj.visualObject.sound = globalVar.SOUNDFILE;\r\n\t\t\t\t\t\t\tnewObj.visualObject.info = users[item];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tglobalVar.displayArray.ButtonParticle.push(newObj);\r\n\t\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti = null;\r\n\t\t\t\t\t\tcount = null;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$(\"#loading\").fadeIn();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tXMLHTTP.open(\"GET\",\"wp-content/themes/zbs/getUserInfo.php\" + \"?userRole=\" + arg);\r\n\t\t\t\tXMLHTTP.send();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tmodule.exports = getInfo;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar globalVar = __webpack_require__(1);\r\n\t\r\n\tvar getPostContent = function (id, title){\r\n\t\t//postContent.style.display = \"block\";//\r\n\t\t$(\"#postContent\").fadeIn();\r\n\t\r\n\t\tvar $infoFrame = $(\"#infoFrame\");\r\n\t\tvar $sketch = $(\"#sketch\");\r\n\t\r\n\t\tvar height = document.documentElement.clientHeight - 50 ;\r\n\t\t$infoFrame.animate({height:height});\r\n\t\t\r\n\t\t//窗口尺寸改变\r\n\t\t$(window).resize(function() {\r\n\t\t\tif($(\"#postContent\").css(\"display\") !== \"none\"){ //如果这个框不是停靠在下方时\r\n\t\t\t\t$infoFrame.css(\"height\",document.documentElement.clientHeight - globalVar.navigationBarHeight);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t//将sketch隐藏并移出显示范围，否则即使被遮盖也会有交互效果\r\n\t\t// setTimeout(function (){$('#sketch').css('position','fixed')},200);\r\n\t\tvar top = $sketch.css(\"top\");\r\n\t\t$sketch.css(\"top\", parseInt(top) - 900 + \"px\");\r\n\t\t// $sketch.fadeOut();\r\n\t\r\n\t\t//折叠FilterBar,并隐藏filterBarBtn\r\n\t\t$(\"#filter\").slideUp(\"fast\",function (){\r\n\t\t\t$(\"#filterBarBtn\").fadeOut();\r\n\t\t});\r\n\t\r\n\t\r\n\t\tvar rightCtrlBar = document.getElementById(\"rightCtrlBar\");\r\n\t\r\n\t\t//滚到顶部\r\n\t\tvar toTop = document.getElementById(\"toTop\");\r\n\t\tif(!toTop){\r\n\t\t\ttoTop = document.createElement(\"button\");\r\n\t\t\ttoTop.id = \"toTop\";\r\n\t\t\ttoTop.title = \"返回顶部\";\r\n\t\t\ttoTop.onclick = function (){\r\n\t\t\t\t$infoFrame.animate({ scrollTop: 0 }, 400);\r\n\t\t\t};\r\n\t\r\n\t\t\trightCtrlBar.appendChild(toTop);\r\n\t\t}\r\n\t\r\n\t\tvar $toTop = $(\"#toTop\");\r\n\t\r\n\t\t/*检查滚动*/\r\n\t\tvar sTop;\r\n\t\tsTop = document.getElementById(\"infoFrame\").scrollTop;\r\n\t\tif(sTop === 0){\r\n\t\t\t$toTop.css(\"display\",\"none\");\r\n\t\t}else{\r\n\t\t\t$toTop.css(\"display\",\"block\");\r\n\t\t}\r\n\t\r\n\t\t$infoFrame.scroll(function(){\r\n\t\t\tsTop = document.getElementById(\"infoFrame\").scrollTop;\r\n\t\t\tif(sTop === 0){\r\n\t\t\t\t$toTop.fadeOut();\r\n\t\t\t}else{\r\n\t\t\t\t$toTop.fadeIn();\r\n\t\t\t}\r\n\t\t});\r\n\t\r\n\t\t//返回按钮（关闭）\r\n\t\tvar cancel = document.getElementById(\"postContent_delete\");\r\n\t\tif(!cancel){\r\n\t\t\tcancel = document.createElement(\"button\");\r\n\t\t\tcancel.id = \"postContent_delete\";\r\n\t\t\tcancel.title = \"关闭\";\r\n\t\t\t//cancel.innerHTML = \"<span class='glyphicon glyphicon-remove'></span>\";\r\n\t\t\tcancel.onclick = function (){\r\n\t\t\t\t$infoFrame.animate({height:\"100px\"});\r\n\t\t\t\t$infoFrame.animate({ scrollTop: 0 }, 400);\r\n\t\t\t\t$(\"#postContent\").fadeOut();\r\n\t\t\t\t//var postContent = document.getElementById(\"postContent\");\r\n\t\t\t\t//postContent.style.display = \"none\";\r\n\t\t\t\tvar title = document.getElementById(\"title\");\r\n\t\t\t\tif (title){\r\n\t\t\t\t\ttitle.classList.add(\"title_link\");     //添加标题鼠标悬浮样式\r\n\t\t\t\t}\r\n\t\t\t\t$(this).fadeOut();\r\n\t\t\t\t\r\n\t\t\t\tvar top = $sketch.css(\"top\");\r\n\t\t\t\t$sketch.css(\"top\",parseInt(top) + 900 + \"px\"); //将sketch移回\r\n\t\t\t\t$sketch.fadeIn();\r\n\t\t\t\t$(\"#filterBarBtn\").fadeIn();\r\n\t\t\t};\r\n\t\t\trightCtrlBar.appendChild(cancel);\r\n\t\t}\r\n\t\t$(\"#postContent_delete\").fadeIn();\r\n\t\t\r\n\t\t$(\"#loading\").fadeIn(\"fast\");\r\n\t\t\r\n\t\tif(window.XMLHttpRequest){\r\n\t\t\tXMLHTTP=new XMLHttpRequest();\r\n\t\t}else{\r\n\t\t\tXMLHTTP=new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n\t\t}\r\n\t\r\n\t\tXMLHTTP.onreadystatechange=function(){\r\n\t\t\tif(XMLHTTP.readyState==4 && XMLHTTP.status==200){\r\n\t\t\t\t$(\"#loading\").fadeOut(\"slow\");\r\n\t\t\t\t// var navigation_bar = document.getElementById(\"navigation_bar\");\r\n\t\t\t\tvar infoFrame = document.getElementById(\"infoFrame\");\r\n\t\t\t\tvar postContent = document.getElementById(\"postContent\");\r\n\t\t\t\tif(infoFrame){\r\n\t\t\t\t\tif(postContent){\r\n\t\t\t\t\t\tpostContent.innerHTML = XMLHTTP.responseText;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// $(\"#postContent\").css(\"display\",\"none\");\r\n\t\t\t\t// $(\"#postContent\").fadeIn();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t};\r\n\t\tXMLHTTP.open(\"GET\",\"wp-content/themes/zbs/getPostContent.php?id=\"+id+\"&title=\"+title);\r\n\t\tXMLHTTP.send();\r\n\t};\r\n\t\r\n\t\r\n\tmodule.exports = getPostContent;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** infinite.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap fe46123fe28e7e164d0c\n **/","\"use strict\"; //严格模式\r\n\r\nvar AttractPoint = require(\"./AttractPoint.js\");\r\nvar globalVar = require(\"./GlobalVar.js\");\r\nvar VisualObject = require(\"./VisualObject.js\");\r\nvar Particle = require(\"./Particle.js\");\r\nvar ButtonPlus = require(\"./ButtonPlus.js\");\r\nvar FilterButton = require(\"./FilterButton.js\");\r\nrequire('./main.scss');\r\n\r\nvar sketch = function (p){\r\n\tglobalVar.width = Math.max(document.documentElement.clientWidth,960);\r\n\tglobalVar.height = Math.max(document.documentElement.clientHeight,600);\r\n\tglobalVar.pp = p;\r\n\tp.preload = function () {\r\n\t\ttry{\r\n\t\t\tp.soundFormats('wav', 'ogg');\r\n\t\t\tglobalVar.SOUNDFILE = p.loadSound('wp-content/themes/zbs/sound/water2.wav');\r\n\t\t}catch(e){\r\n\t\t\tconsole.log(e.message);      //貌似ie不支持soundformats方法\r\n\t\t}\r\n\r\n\t\tvar optionL = {\r\n\t\t\t\"p\":p,\r\n\t\t\t\"position\" : new p5.Vector(globalVar.width / 2 - 250,globalVar.height * 0.6),\r\n\t\t\t\"strength\" : 0.1,\r\n\t\t\t\"vortex\" : true\r\n\t\t};\r\n\t\tvar optionR = {\r\n\t\t\t\"p\":p,\r\n\t\t\t\"position\" : new p5.Vector(globalVar.width / 2 + 250,globalVar.height * 0.6),\r\n\t\t\t\"strength\" : 0.1,\r\n\t\t\t\"clockwise\" : true,\r\n\t\t\t\"vortex\" : true\r\n\t\t};\r\n\t\tglobalVar.attractPtL = new AttractPoint(optionL);\r\n\t\tglobalVar.attractPtR = new AttractPoint(optionR);\r\n\r\n\t};\r\n\tp.setup = function (){\r\n\t\tp.createCanvas(globalVar.width, globalVar.height);\r\n\t\tp.canvas.id = \"sketch_1\";\r\n\t\tglobalVar.displayArray.backgroundBall = [];\r\n\t\tfor(var i = 0; i < 200; i++){\r\n\t\t\tvar size = Math.random()*20 + 15;\r\n\t\t\tvar optionsVO = {\r\n\t\t\t\tposition : new p5.Vector((Math.random() * p.width - 100) + 50,(Math.random() * p.height - 60) + 30),\r\n\t\t\t\twidth : size,\r\n\t\t\t\theight : size,\r\n\t\t\t\tp : globalVar.pp,\r\n\t\t\t\tfillCol : globalVar.pp.color(200,200,200,50)\r\n\t\t\t};\r\n\t\t\tvar options = {\r\n\t\t\t\tvisualObject : new VisualObject(optionsVO),\r\n\t\t\t\tp : globalVar.pp\r\n\t\t\t};\r\n\t\t\tglobalVar.displayArray.backgroundBall.push(new Particle(options));\r\n\t\t}\r\n\t};\r\n\r\n\tp.draw = function (){\r\n\t\tp.background(255);\r\n\t\t// globalVar.attractPtL.display();\r\n\t\t// globalVar.attractPtR.display();\r\n\t\tfor(var objType in globalVar.displayArray){\r\n\t\t\tif (objType === \"ButtonParticle\"){     //重新排序控制绘图顺序\r\n\t\t\t\tresortButtonParticle(globalVar.displayArray);\r\n\t\t\t\tButtonPlus.pushMatrix(globalVar.pp);\r\n\t\t\t\tglobalVar.translate.x += (globalVar.transTarget.x - globalVar.translate.x) * 0.2;\r\n\t\t\t\tglobalVar.translate.y += (globalVar.transTarget.y - globalVar.translate.y) * 0.2;\r\n\t\t\t\tButtonPlus.translate(globalVar.translate.x, globalVar.translate.y, globalVar.pp);\r\n\r\n\t\t\t\tvar totalHeight =  globalVar.displayArray[objType].length / globalVar.countPerRow * globalVar.cellSize;\r\n\t\t\t\tglobalVar.transTarget.totalPage = totalHeight / p.height;\r\n\t\t\t\t if (globalVar.translate.currentPage < globalVar.transTarget.totalPage - 1 && globalVar.alignState){\r\n\t\t\t\t \t$(\"#nextPage\").fadeIn();\r\n\t\t\t\t }else{\r\n\t\t\t\t \t$(\"#nextPage\").fadeOut();\r\n\t\t\t\t }\r\n\t\t\t\t if (globalVar.translate.currentPage > 0 && globalVar.alignState){\r\n\t\t\t\t \t$(\"#perPage\").fadeIn();\r\n\t\t\t\t }else{\r\n\t\t\t\t \t$(\"#perPage\").fadeOut();\r\n\t\t\t\t }\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor(var i = 0, length = globalVar.displayArray[objType].length;i < length;i++){\r\n\t\t\t\tglobalVar.displayArray[objType][i].display();\r\n\t\t\t}\r\n\r\n\t\t\tif (objType === \"ButtonParticle\") {\r\n\t\t\t\tButtonPlus.popMatrix(globalVar.pp);\r\n\t\t\t}\r\n\t\t}\r\n\t};\t\r\n\t\r\n};\r\n\r\nvar myp5 = new p5(sketch,'sketch');\r\nvar doc = document;\r\nsetTimeout(resizeCanvas,0);    //延迟执行，不然canvas的width跟heigth的值为0；\r\n\r\nfunction resizeCanvas(){       //调整canvas的大小与位置\r\n    var sketch = doc.getElementById(\"sketch\");\r\n\tglobalVar.width = Math.max(doc.documentElement.clientWidth ,960);\r\n    globalVar.height = Math.max(doc.documentElement.clientHeight ,600);\r\n    var left,top;\r\n    globalVar.pp.resizeCanvas(globalVar.width, globalVar.height);\r\n    if (doc.documentElement.clientWidth  < 960){\r\n        left = (doc.documentElement.clientWidth - globalVar.width) / 2;\r\n    }else{\r\n        left = (globalVar.width - doc.documentElement.clientWidth) / 2;\r\n    }\r\n    if (doc.documentElement.clientHeight - 50  < 600){\r\n        top = (doc.documentElement.clientHeight + 50 - globalVar.height) / 2;\r\n    }else{\r\n        top = (globalVar.height - doc.documentElement.clientHeight + 50) / 2;\r\n    }\r\n    sketch.style.left = left + \"px\";\r\n    sketch.style.top = top + \"px\";\r\n\t\r\n\t/**\r\n\t * resize后button自适应位置\r\n\t */\r\n\tvar len = globalVar.displayArray.ButtonParticle.length;\r\n\tvar w = globalVar.countPerRow * globalVar.cellSize;\r\n\tleft = (globalVar.width - w) / 2 + 0.5 * globalVar.cellSize;\r\n\tif (globalVar.alignState){\r\n\t\tfor(var k = 0; k < len; k++){\r\n\t\t\tvar i = k % globalVar.countPerRow;\r\n\t\t\tvar j = Math.floor(k / globalVar.countPerRow) + 2;\r\n\t\t\tglobalVar.displayArray.ButtonParticle[k].attractPt.position =  new p5.Vector(i * globalVar.cellSize + left, j * globalVar.cellSize);\r\n\t\t}\r\n\t}else{\r\n\t\tglobalVar.attractPtL.position.x = globalVar.width / 2 - 250;  //调整画布时,attractPtL与attractPtR也得更改位置\r\n\t\tglobalVar.attractPtR.position.x = globalVar.width / 2 + 250;\r\n\t\tglobalVar.attractPtL.position.y = globalVar.height * 0.6;\r\n\t\tglobalVar.attractPtR.position.y = globalVar.height * 0.6;\r\n\t}\r\n}\r\n\r\nfunction resortButtonParticle(bp){\r\n\t/**\r\n\t * 为displayArray.ButtonParticle\r\n\t */\r\n\tvar newList = [],\r\n\t\tselectObj = null;\r\n\tfor(var i = 0, len = bp.ButtonParticle.length; i < len; i++){\r\n\t\tif(bp.ButtonParticle[i].visualObject.pState === \"mouseOut\"){\r\n\t\t\tnewList.push(bp.ButtonParticle[i]);\r\n\t\t}else{\r\n\t\t\tselectObj = bp.ButtonParticle[i];\r\n\t\t}\r\n\t}\r\n\tif(selectObj !== null){\r\n\t\tnewList.push(selectObj);\r\n\t}\r\n\tbp.ButtonParticle = newList;\r\n}\r\n\r\n$(doc).ready(function(){\r\n\tdoc.body.style.overflow = 'hidden';\r\n    var getInfo = require(\"./getInfo.js\");\r\n\t//默认获取用户\r\n\tgetInfo(\"posts\",\"special_invitation\");\r\n\t\r\n\t//获取用户\r\n\t$(\"#getUsers\").click(function(){    //相当于刷新，所有很多状态要重置\r\n\t\t// ButtonPlus.stateReset();    //状态重置\r\n\t\t// globalVar.alignState = false;    //状态重置\r\n\r\n\t\t// var doc = document;                             ////重置infoFrame\r\n\t\t// var infoFrame = doc.getElementById(\"infoFrame\");\r\n\t\t// if(infoFrame){\r\n\t\t// \tinfoFrame.style.visibility = \"hidden\";\r\n\t\t// }\r\n\r\n\t\t// getInfo(\"users\",\"special_invitation\");\r\n\t});\r\n\t\r\n\t//获取文章\r\n\t$(\"#getPosts\").click(function(){   //相当于刷新，所有很多状态要重置\r\n\t\tButtonPlus.stateReset();    //状态重置\r\n\t\tglobalVar.alignState = false;    //状态重置\r\n\r\n        //重置infoFrame\r\n\t\tvar infoFrame = doc.getElementById(\"infoFrame\");\r\n\t\tif(infoFrame){\r\n\t\t\tinfoFrame.style.visibility = \"hidden\";\r\n\t\t}\r\n\r\n\t\tgetInfo(\"posts\");\r\n\t\tButtonPlus.prototype.hoverObjCount += 1; //由于按钮是在FliterBar上，getInfo的时候被重置了，所以+1\r\n\t});\r\n\t\r\n\t//排列\r\n\t$(\"#align\").click(function (){\r\n\t\tvar w = globalVar.countPerRow * globalVar.cellSize;\r\n\t\tvar left = (globalVar.width - w) / 2 + 0.5 * globalVar.cellSize;\r\n\t\t\r\n\t\tif (globalVar.alignState){\r\n\t\t\tglobalVar.transTarget.x = 0;\r\n\t\t\tglobalVar.transTarget.y = 0;\r\n\t\t\tglobalVar.translate.currentPage = 0;\r\n\t\t}\r\n\t\tglobalVar.alignState = ~globalVar.alignState;\r\n\t\tvar len = globalVar.displayArray.ButtonParticle.length;\r\n\t\tif (globalVar.alignState){\r\n\t\t\tfor(var k = 0; k < len; k++){\r\n\t\t\t\tvar i = k % globalVar.countPerRow;\r\n\t\t\t\tvar j = Math.floor(k / globalVar.countPerRow) + 2;\r\n\t\t\t\t\r\n\t\t\t\tvar options = {\r\n\t\t\t\t\t\"position\" : new p5.Vector(i * globalVar.cellSize + left, j * globalVar.cellSize),\r\n\t\t\t\t\t\"strength\" : 1.5,\r\n\t\t\t\t\t\"vortex\" : false\r\n\t\t\t\t};\r\n\t\t\t\tvar attractPt = new AttractPoint(options);\r\n\t\t\t\tglobalVar.displayArray.ButtonParticle[k].attractPt = attractPt;\r\n\t\t\t\tglobalVar.displayArray.ButtonParticle[k].vortexAttract = false;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tfor(var k = 0; k < len; k++){\r\n\t\t\t\tglobalVar.displayArray.ButtonParticle[k].attractPt = globalVar.attractPtL;\r\n\t\t\t\tglobalVar.displayArray.ButtonParticle[k].vortexAttract = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t});\r\n\r\n});\r\n\r\n\r\n$(\"body\").click(function (e){\r\n\tif ($(e.target).is(\"#filterBar , #filterBarBtn , #filterBar button\")){\r\n\t\treturn;\r\n\t}else{\r\n\t\t//折叠FilterBar\r\n\t\t$(\"#filter\").slideUp(\"fast\");    //隐藏fliter\r\n\t}\r\n});\r\n\r\n//窗口尺寸改变\r\n$(window).resize(function() {\r\n\t$(\"#infoFrame\").css(\"width\", $(window).width());\r\n\tresizeCanvas();   //调整canv位置与大小\r\n});\r\n\r\n$(\"#filterBarBtn\").mouseover(function (){\r\n\t$(\"#filter\").slideDown(\"slow\");      //下拉显示fliter\r\n});\r\n\r\n$(\"#sketch\").mouseenter(function (e){\r\n\t$(\"#filter\").slideUp(\"fast\");\r\n});\r\n\r\n// firefox\r\ndoc.body.addEventListener(\"DOMMouseScroll\", function(event) {\r\n\tif (globalVar.alignState){\r\n\t\tvar direction= event.detail && (event.detail > 0 ? \"mousedown\" : \"mouseup\");\r\n\t\tvar direction = event.wheelDelta && (event.wheelDelta > 0 ? \"mouseup\" : \"mousedown\");\r\n\t\tif (direction === \"mouseup\"){\r\n\t\t\tif (globalVar.translate.currentPage > 0){\r\n\t\t\t\tglobalVar.transTarget.y += 400;\r\n\t\t\t\tglobalVar.translate.currentPage -= 1;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif (globalVar.translate.currentPage < globalVar.transTarget.totalPage - 1){\r\n\t\t\t\tglobalVar.transTarget.y -= 400;\r\n\t\t\t\tglobalVar.translate.currentPage += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}    \r\n});\r\n\r\n// chrome and ie\r\ndoc.body.onmousewheel = function (event) {\r\n\t$(\"#filter\").slideUp(\"fast\");     //隐藏fliter\r\n\t\r\n\tif (globalVar.alignState){\r\n\t\tevent = event || window.event;\r\n\r\n\t\tvar direction = event.wheelDelta && (event.wheelDelta > 0 ? \"mouseup\" : \"mousedown\");\r\n\t\tif (direction === \"mouseup\"){\r\n\t\t\tif (globalVar.translate.currentPage > 0){\r\n\t\t\t\tglobalVar.transTarget.y += 400;\r\n\t\t\t\tglobalVar.translate.currentPage -= 1;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif (globalVar.translate.currentPage < globalVar.transTarget.totalPage - 1){\r\n\t\t\t\tglobalVar.transTarget.y -= 400;\r\n\t\t\t\tglobalVar.translate.currentPage += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n$(\"#nextPage\").click(function (){\r\n\tif (globalVar.translate.currentPage < globalVar.transTarget.totalPage - 1){\r\n\t\tglobalVar.transTarget.y -= 400;\r\n\t\tglobalVar.translate.currentPage += 1;\r\n\t}\r\n});\r\n\r\n$(\"#perPage\").click(function (){\r\n\tif (globalVar.translate.currentPage > 0){\r\n\t\tglobalVar.transTarget.y += 400;\r\n\t\tglobalVar.translate.currentPage -= 1;\r\n\t}\r\n});\r\n\r\n$(\"#filterT, #filterBarBtn\").mouseover(function (){       //让鼠标选择不中FilterBar下面的button\r\n\tif (ButtonPlus.prototype.hoverObjCount < 1){\r\n\t\tButtonPlus.prototype.hoverObjCount += 1;\r\n\t}\r\n});\r\n\r\n$(\"#filterT, #filterBarBtn\").mouseout(function (){\r\n\tif (ButtonPlus.prototype.hoverObjCount > 0){\r\n\t\tButtonPlus.prototype.hoverObjCount -= 1;\r\n\t}\r\n});\r\n\r\nvar options_2010 = {\r\n\tid : \"2010\",\r\n\ttext : \"2010年\",\r\n\tparentId : \"year\",\r\n\tkeyword : \"creationDate\",\r\n\tvalue : \"2010\"\r\n};\r\n\r\nvar options_2011 = {\r\n\tid : \"2011\",\r\n\ttext : \"2011年\",\r\n\tparentId : \"year\",\r\n\tkeyword : \"creationDate\",\r\n\tvalue : \"2011\"\r\n};\r\n\r\nvar options_2012 = {\r\n\tid : \"2012\",\r\n\ttext : \"2012年\",\r\n\tparentId : \"year\",\r\n\tkeyword : \"creationDate\",\r\n\tvalue : \"2012\"\r\n};\r\n\r\nvar options_2013 = {\r\n\tid : \"2013\",\r\n\ttext : \"2013年\",\r\n\tparentId : \"year\",\r\n\tkeyword : \"creationDate\",\r\n\tvalue : \"2013\"\r\n};\r\n\r\nvar options_2014 = {\r\n\tid : \"2014\",\r\n\ttext : \"2014年\",\r\n\tparentId : \"year\",\r\n\tkeyword : \"creationDate\",\r\n\tvalue : \"2014\"\r\n};\r\n\r\nvar options_2015 = {\r\n\tid : \"2015\",\r\n\ttext : \"2015年\",\r\n\tparentId : \"year\",\r\n\tkeyword : \"creationDate\",\r\n\tvalue : \"2015\"\r\n};\r\n\r\nvar options_2016 = {\r\n\tid : \"2016\",\r\n\ttext : \"2016年\",\r\n\tparentId : \"year\",\r\n\tkeyword : \"creationDate\",\r\n\tvalue : \"2016\"\r\n};\r\n\r\nvar options3 = {\r\n\tid : \"qgbd\",\r\n\ttext : \"情感表达\",\r\n\tparentId : \"type\",\r\n\tkeyword : \"cat\",\r\n\tvalue : \"情感表达\"\r\n};\r\nvar options4 = {\r\n\tid : \"gnyh\",\r\n\ttext : \"功能优化\",\r\n\tparentId : \"type\",\r\n\tkeyword : \"cat\",\r\n\tvalue : \"功能优化\"\r\n};\r\nvar options5 = {\r\n\tid : \"shht\",\r\n\ttext : \"社会话题\",\r\n\tparentId : \"type\",\r\n\tkeyword : \"cat\",\r\n\tvalue : \"社会话题\"\r\n};\r\nvar options6 = {\r\n\tid : \"clyy\",\r\n\ttext : \"材料应用\",\r\n\tparentId : \"type\",\r\n\tkeyword : \"cat\",\r\n\tvalue : \"材料应用\"\r\n};\r\nvar options7 = {\r\n\tid : \"kjzp\",\r\n\ttext : \"跨界作品\",\r\n\tparentId : \"type\",\r\n\tkeyword : \"cat\",\r\n\tvalue : \"跨界作品\"\r\n};\r\n\r\nvar options8 = {\r\n\tid : \"syxf\",\r\n\ttext : \"实验先锋\",\r\n\tparentId : \"type\",\r\n\tkeyword : \"cat\",\r\n\tvalue : \"实验先锋\"\r\n};\r\n\r\nvar options9 = {\r\n\tid : \"rqyj\",\r\n\ttext : \"人群研究\",\r\n\tparentId : \"type\",\r\n\tkeyword : \"cat\",\r\n\tvalue : \"人群研究\"\r\n};\r\n\r\nvar options10 = {\r\n\tid : \"syyy\",\r\n\ttext : \"商业运用\",\r\n\tparentId : \"type\",\r\n\tkeyword : \"cat\",\r\n\tvalue : \"商业运用\"\r\n};\r\n\r\nvar options11 = {\r\n\tid : \"whcc\",\r\n\ttext : \"文化传承\",\r\n\tparentId : \"type\",\r\n\tkeyword : \"cat\",\r\n\tvalue : \"文化传承\"\r\n};\r\n\r\nvar options12 = {\r\n\tid : \"qt\",\r\n\ttext : \"其他\",\r\n\tparentId : \"type\",\r\n\tkeyword : \"cat\",\r\n\tvalue : \"其他\"\r\n};\r\n\r\nvar options_sjcd = {\r\n\tid : \"sjcd\",\r\n\ttext : \"视觉传达\",\r\n\tparentId : \"major\",\r\n\tkeyword : \"major\",\r\n\tvalue : \"视觉传达\"\r\n};\r\n\r\nvar options_gysj = {\r\n\tid : \"gysj\",\r\n\ttext : \"工业设计\",\r\n\tparentId : \"major\",\r\n\tkeyword : \"major\",\r\n\tvalue : \"工业设计\"\r\n};\r\n\r\nvar options_fssj = {\r\n\tid : \"fssj\",\r\n\ttext : \"服饰设计\",\r\n\tparentId : \"major\",\r\n\tkeyword : \"major\",\r\n\tvalue : \"服饰设计\"\r\n};\r\n\r\nvar options_jzyhy = {\r\n\tid : \"jzyhy\",\r\n\ttext : \"建筑与环艺/展示\",\r\n\tparentId : \"major\",\r\n\tkeyword : \"major\",\r\n\tvalue : \"建筑与环艺(展示)\"\r\n};\r\n\r\nvar options_smdh = {\r\n\tid : \"smdh\",\r\n\ttext : \"数媒与动画\",\r\n\tparentId : \"major\",\r\n\tkeyword : \"major\",\r\n\tvalue : \"数字多媒体与动画影像\"\r\n};\r\n\r\nvar options_ys = {\r\n\tid : \"ys\",\r\n\ttext : \"艺术\",\r\n\tparentId : \"major\",\r\n\tkeyword : \"major\",\r\n\tvalue : \"艺术\"\r\n};\r\n\r\nglobalVar.filterButton.push(new FilterButton(options_2010));\r\nglobalVar.filterButton.push(new FilterButton(options_2011));\r\nglobalVar.filterButton.push(new FilterButton(options_2012));\r\nglobalVar.filterButton.push(new FilterButton(options_2013));\r\nglobalVar.filterButton.push(new FilterButton(options_2014));\r\nglobalVar.filterButton.push(new FilterButton(options_2015));\r\nglobalVar.filterButton.push(new FilterButton(options_2016));\r\n\r\nglobalVar.filterButton.push(new FilterButton(options3));\r\nglobalVar.filterButton.push(new FilterButton(options4));\r\nglobalVar.filterButton.push(new FilterButton(options5));\r\nglobalVar.filterButton.push(new FilterButton(options6));\r\nglobalVar.filterButton.push(new FilterButton(options7));\r\nglobalVar.filterButton.push(new FilterButton(options8));\r\nglobalVar.filterButton.push(new FilterButton(options9));\r\nglobalVar.filterButton.push(new FilterButton(options10));\r\nglobalVar.filterButton.push(new FilterButton(options11));\r\nglobalVar.filterButton.push(new FilterButton(options12));\r\n\r\nglobalVar.filterButton.push(new FilterButton(options_sjcd));\r\nglobalVar.filterButton.push(new FilterButton(options_gysj));\r\nglobalVar.filterButton.push(new FilterButton(options_fssj));\r\nglobalVar.filterButton.push(new FilterButton(options_jzyhy));\r\nglobalVar.filterButton.push(new FilterButton(options_smdh));\r\nglobalVar.filterButton.push(new FilterButton(options_ys));\r\n\r\n\r\nvar options_cancelAll = {\r\n\tid : \"bcancelAll\",\r\n\ttype : \"cancel\",\r\n\tclass : \"cancel\",\r\n\tparentId : \"cancelAll\",\r\n\ttitle: \"全部取消\",\r\n\ttext : \"\"\r\n};\r\n\r\nglobalVar.filterButton.push(new FilterButton(options_cancelAll));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/sketch.js\n ** module id = 0\n ** module chunks = 0\n **/","/**\r\n * infinite程序内部全局变量\r\n */\r\n\r\nvar GlobalVar = {\r\n    displayArray : [],\r\n    filterButton : [],\r\n    SOUNDFILE : null,\r\n    pp : null,\r\n    alignState : false,\r\n    attractPtL : null,\r\n    attractPtR : null,\r\n    countPerRow : 10,   //align模式时，每行的button数量\r\n    cellSize : 70,    //align模式时，button与button之间的间距\r\n    select : 0,\r\n    translate : {\r\n        x : 0,\r\n        y : 0,\r\n        currentPage : 0\r\n    },\r\n    transTarget : {\r\n        x : 0,\r\n        y : 0,\r\n        totalPage : 0\r\n    },\r\n    navigationBarHeight : 50,\r\n    width : 0,\r\n    height : 0\r\n};\r\n\r\nmodule.exports = GlobalVar;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/GlobalVar.js\n ** module id = 1\n ** module chunks = 0\n **/","/**\r\n * 工具包\r\n */\r\nvar util = {\r\n\t//用于继承\r\n\tinheritPrototype : function (subType,superType){\r\n\t\tvar prototype = this.object(superType.prototype);\r\n\t\tprototype.constructor = subType;\r\n\t\tsubType.prototype = prototype;\r\n\t},\r\n\tobject : function (o){\r\n\t\tfunction F(){}\r\n\t\tF.prototype = o;\r\n\t\treturn new F();\r\n\t},\r\n\t\r\n\t//用于获取元素的绝对位置\r\n\tgetElementLeft : function (element){\r\n\t\tvar actualLeft = element.offsetLeft;\r\n\t\tvar current = element.offsetParent;\r\n\t\twhile (current !== null){\r\n\t\t\tactualLeft += current.offsetLeft;\r\n\t\t\tcurrent = current.offsetParent;\r\n\t\t}\r\n\t\treturn actualLeft;\r\n\t},\r\n\tgetElementTop : function (element){\r\n\t\tvar actualTop = element.offsetTop;\r\n\t\tvar current = element.offsetParent;\r\n\t\twhile (current !== null){\r\n\t\t\tactualTop += current.offsetTop;\r\n\t\t\tcurrent = current.offsetParent;\r\n\t\t}\r\n\t\treturn actualTop;\r\n\t},\r\n\t\r\n\tgetJsonObjLength : function (jsonObj) {\r\n\t\tvar Length = 0;\r\n\t\tfor (var item in jsonObj) {\r\n\t\tLength++;\r\n\t\t}\r\n\t\treturn Length;\r\n\t}\r\n};\r\n\r\nmodule.exports = util;\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/util.js\n ** module id = 2\n ** module chunks = 0\n **/","/*\r\n基于p5.js,Button\r\nby:Zzzz\r\ndate:2016-03-03\r\n*/\r\nvar Button = require(\"./Button.js\");\r\nvar util = require(\"./util.js\");\r\n// var globalVar = require(\"./GlobalVar.js\");\r\n\r\nfunction ButtonPlus(options) {\r\n\tButton.call(this, options);\r\n\tthis.breath = false;  //是否开启呼吸效果\r\n\tthis.breathState = false;  //呼吸状态\r\n\tthis.w = options.width;  //原始宽度数据备份\r\n\tthis.h = options.height;  //原始高度数据备份\r\n\tthis.clickTimeline = 0;   //On状态的时间轴\r\n\tthis.geometryType = \"circle\";\r\n\tthis.maxWidth = 100;\r\n\tthis.filtered = false;   //用于过滤\r\n}\r\nutil.inheritPrototype(ButtonPlus, Button);\r\n\r\n//统计ButtonPlus实例被选中个数，主要目的在于控制每次只能选择一个Button\r\nButtonPlus.prototype.hoverObjCount = 0;\r\n\r\n//判断ButtonPlus是否被选中（加强版）\r\nButtonPlus.prototype.isSelected = function () {\r\n\tvar translateX = this.constructor.prototype.trans[this.constructor.prototype.trans.length - 1].x,     //p5的bug,translate后,鼠标位置出错.\r\n\t\ttranslateY = this.constructor.prototype.trans[this.constructor.prototype.trans.length - 1].y,\r\n\t\tmouseX = this.p.mouseX - translateX,\r\n\t\tmouseY = this.p.mouseY - translateY;\r\n\r\n\tif (this.filtered){     //假如被排除了，那么所有的状态都为未选中（亦即永远选不中）\r\n\t\treturn false;\r\n\t}\r\n\tvar width = this.width > 40 ? this.width : 40;\r\n\tvar height = this.width > 40 ? this.width : 40;\r\n\tif (this.width === this.height && this.geometryType === \"circle\") {\r\n\t\tif (Math.pow((mouseX - this.position.x), 2) + Math.pow((mouseY - this.position.y), 2) <= Math.pow(width / 2, 2)) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} else {\r\n\t\tif (mouseX >= this.position.x - width / 2 && mouseX <= this.position.x + width / 2 && mouseY >= this.position.y - height / 2 && mouseY <= this.position.y + height / 2) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n//判断ButtonPlus的状态（加强版）\r\nButtonPlus.prototype.getState = function () {\r\n\t/**\r\n\t * hover (pState) ： 鼠标悬浮（被选中）\r\n\t * press (pState) ： 鼠标按下\r\n\t * click (pState) ： 鼠标点击\r\n\t * mouseOut (pState) ： 鼠标从button上移开/未被选中\r\n\t * on (pSwitch) : Button处于开启状态\r\n\t * off (pSwitch) ： Button处于关闭状态\r\n\t */\r\n\tif (this.isSelected()) {\r\n\t\tif (this.pState == \"click\") {\r\n\t\t\tif (this.p.mouseIsPressed) {\r\n\t\t\t\tif (this.pState != \"mouseOut\") {\r\n\t\t\t\t\treturn \"press\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn \"click\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.constructor.prototype.hoverObjCount <= 0 || this.pState != \"mouseOut\") {\r\n\t\t\t\tif (this.p.mouseIsPressed) {\r\n\t\t\t\t\tif (this.pState == \"mouseOut\") {\r\n\t\t\t\t\t\treturn \"mouseOut\";\r\n\t\t\t\t\t} else {\t\r\n\t\t\t\t\t\t//如果button的大小小于90,则不出现press状态\r\n\t\t\t\t\t\tif(this.width >= this.maxWidth - 10){\r\n\t\t\t\t\t\t\treturn \"press\";\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn \"hover\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.pState == \"press\") {\r\n\t\t\t\t\t\tif (this.pSwitch == \"on\") {\r\n\t\t\t\t\t\t\tthis.pSwitch = \"off\";\r\n\t\t\t\t\t\t\tthis.fire({ type: \"turnOff\" });\r\n\t\t\t\t\t\t\treturn \"hover\";\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tthis.pSwitch = \"on\";\r\n\t\t\t\t\t\t\tthis.fire({ type: \"turnOn\" });\r\n\t\t\t\t\t\t\treturn \"click\";\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (this.pState != \"hover\") {\r\n\t\t\t\t\t\t\t//first\r\n\t\t\t\t\t\t\tthis.constructor.prototype.hoverObjCount += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn \"hover\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn \"mouseOut\";\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tif (this.pState == \"click\") {\r\n\t\t\treturn \"click\";\r\n\t\t} else {\r\n\t\t\tif (this.p.mouseIsPressed && this.pSwitch == \"on\") {\r\n\t\t\t\tthis.pSwitch = \"off\";\r\n\t\t\t\tthis.fire({ type: \"turnOff\" });\r\n\t\t\t}\r\n\t\t\tif (this.pState == \"hover\" || this.pState == \"press\") {\r\n\t\t\t\tthis.constructor.prototype.hoverObjCount -= 1;\r\n\t\t\t}\r\n\t\t\treturn \"mouseOut\";\r\n\t\t}\r\n\t}\r\n};\r\n\r\nButtonPlus.prototype.update = function (){\r\n\tthis.trans_position = new p5.Vector(this.position.x + this.constructor.prototype.trans[this.constructor.prototype.trans.length - 1].x, this.position.y + this.constructor.prototype.trans[this.constructor.prototype.trans.length - 1].y);\r\n};\r\n//根据不同的状态绘制ButtonPlus（加强版）\r\nButtonPlus.prototype.display = function () {\r\n\tthis.update();\r\n\tif (this.strokeCol) {\r\n\t\tthis.p.stroke(this.strokeCol);\r\n\t} else {\r\n\t\tthis.p.noStroke();\r\n\t}\r\n\r\n\tthis.p.rectMode('center');\r\n\tthis.state = this.getState();\r\n\tthis.cursorState(this.state);  //鼠标状态\r\n\tswitch (this.state) {\r\n\t\tcase \"hover\":\r\n\t\t\t//音效\r\n\t\t\tif (this.pState == \"mouseOut\") {         //首次hover\r\n\t\t\t\tif (this.sound) this.sound.play();\r\n\t\t\t}\r\n\t\t\tthis.fillCol = this.buttonCol;\r\n\t\t\t//this.p.fill(this.fillCol);\r\n\t\t\tthis.drawObj();\r\n\t\t\tif (this.width > this.maxWidth) {\r\n\t\t\t\tthis.breath = true;\r\n\t\t\t}\r\n\r\n\t\t\tvar s = 1.1;\r\n\t\t\tif (this.breath) {\r\n\t\t\t\t//呼吸效果\r\n\t\t\t\tif (!this.breathState && this.width <= this.maxWidth) {\r\n\t\t\t\t\tthis.width *= 1.002;\r\n\t\t\t\t\tthis.height *= 1.002;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.breathState = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.breathState && this.width > this.maxWidth - 10) {\r\n\t\t\t\t\tthis.width *= 0.995;\r\n\t\t\t\t\tthis.height *= 0.995;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.breathState = false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//放大\r\n\t\t\t\tif (this.width <= this.maxWidth) {\r\n\t\t\t\t\tthis.width *= s;\r\n\t\t\t\t\tthis.height *= s;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.fire({ type: \"hover\" });\r\n\t\t\tthis.pState = \"hover\";\r\n\t\t\tbreak;\r\n\t\tcase \"mouseOut\":\r\n\t\t\tif (this.buttonCol) {\r\n\t\t\t\tthis.fillCol = this.buttonCol;\r\n\t\t\t}\r\n\t\t\tthis.drawObj();\r\n\t\t\tthis.breath = false;\r\n\r\n\t\t\t//缩小\r\n\t\t\tvar s = 0.95;\r\n\t\t\tif (this.width > this.w) {\r\n\t\t\t\tthis.width *= s;\r\n\t\t\t\tthis.height *= s;\r\n\t\t\t}\r\n\r\n\t\t\tthis.fire({ type: \"mouseOut\" });\r\n\t\t\tthis.pState = \"mouseOut\";\r\n\t\t\tbreak;\r\n\t\tcase \"press\":\r\n\t\t\tthis.fillCol = this.pressCol;\r\n\t\t\tthis.drawObj();\r\n\t\t\tthis.fire({ type: \"press\" });\r\n\t\t\tthis.pState = \"press\";\r\n\t\t\tbreak;\r\n\t\tcase \"click\":\r\n\t\t\tthis.fillCol = this.clickCol;\r\n\t\t\tthis.drawObj();\r\n\r\n\t\t\t//点击反馈\r\n\t\t\tif (this.pState === \"press\") {\r\n\t\t\t\tthis.clickTimeline = 0;\r\n\t\t\t} else {\r\n\t\t\t\tthis.clickTimeline++;\r\n\t\t\t}\r\n\t\t\t// if (this.clickTimeline < 40) {\r\n\t\t\t// \tthis.p.stroke(200, 200, 200, 200 - this.clickTimeline * 5);\r\n\t\t\t// \tthis.p.strokeWeight(10 - this.clickTimeline / 4);\r\n\t\t\t// \tthis.p.noFill();\r\n\t\t\t// \tthis.p.ellipse(this.position.x, this.position.y, this.width + Math.sqrt(this.clickTimeline * 50, 2), this.height + Math.sqrt(this.clickTimeline * 50, 2));\r\n\t\t\t// }\r\n\r\n\r\n\t\t\tthis.fire({ type: \"click\" });\r\n\t\t\tthis.pState = \"click\";\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tif (this.buttonCol) {\r\n\t\t\t\tthis.fillCol = this.buttonCol;\r\n\t\t\t} else {\r\n\t\t\t\tthis.fillCol = this.p.color(0, 0, 100);\r\n\t\t\t}\r\n\t\t\tthis.drawObj();\r\n\t}\r\n};\r\n\r\n//ButtonPlus状态重置\r\nButtonPlus.stateReset = function () {\r\n\tthis.prototype.hoverObjCount = 0;\r\n};\r\n\r\nButtonPlus.prototype.drawObj = function (){\r\n\tif (this.filtered){\r\n\t\tthis.drawFilteredObj();\r\n\t}else{\r\n\t\tthis.drawGeometry();\r\n\t}\r\n};\r\n\r\nButtonPlus.prototype.drawFilteredObj = function (){\r\n\t//this.strokeCol ? this.p.stroke(this.strokeCol) : this.p.noStroke();\r\n\tthis.p.fill(this.p.color(200,200,200));\r\n\tthis.p.push();\r\n\tthis.p.translate(this.position.x, this.position.y);\r\n\tthis.p.ellipse(0, 0, this.width, this.height);\r\n\tthis.p.pop();\r\n};\r\n\r\nButtonPlus.prototype.trans = [{\r\n\tx : 0,\r\n\ty : 0\r\n}];\r\n\r\nButtonPlus.prototype._trans = null;\r\n\r\nButtonPlus.translate = function (x, y, p){\r\n\tp.translate(x,y);\r\n\tthis.prototype._trans = {\r\n\t\tx : this.prototype.trans[this.prototype.trans.length - 2].x + x,       //什么bug来的！！！！！Array最后一个竟然是length - 2！！！！！！\r\n\t\ty : this.prototype.trans[this.prototype.trans.length - 2].y + y\r\n\t};\r\n};\r\n\r\nButtonPlus.pushMatrix = function (p){\r\n\tp.push();\r\n\tif (this.prototype._trans === null){\r\n\t\tthis.prototype.trans.push({\r\n\t\t\tx : this.prototype.trans[this.prototype.trans.length - 1].x,\r\n\t\t\ty : this.prototype.trans[this.prototype.trans.length - 1].y\r\n\t\t});\r\n\t}else{\r\n\t\tthis.prototype.trans.push({\r\n\t\t\tx : this.prototype._trans.x,\r\n\t\t\ty : this.prototype._trans.y\r\n\t\t});\r\n\t}\r\n};\r\n\r\nButtonPlus.popMatrix = function (p){\r\n\tif (this.prototype.trans.length > 0){\r\n\t\tp.pop();\r\n\t\tthis.prototype.trans.pop();\r\n\t}\r\n};\r\n\r\nmodule.exports = ButtonPlus;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/ButtonPlus.js\n ** module id = 3\n ** module chunks = 0\n **/","var util = require(\"./util.js\");\r\nvar Particle = require(\"./Particle.js\");\r\nvar globalVar = require(\"./GlobalVar.js\");\r\n\r\nvar ButtonParticle = function (options){\r\n\tParticle.call(this,{\r\n\t\tvisualObject : options.visualObject,   //visualObject为实现了display方法的对象\r\n\t\tp : options.p,\r\n\t\treflect : false,\r\n\t\ttopspeed : options.topspeed,   //控制最高速度\r\n\t\tacceleration : options.acceleration,\r\n\t\tvelocity : options.velocity\r\n\t});\r\n\t//this.strength = 0.1;\r\n\tthis.vortexAttract = options.vortexAttract || true;   //vortexAttract确定button是被直线吸引还是漩涡吸引\r\n\tthis.xoff = Math.random() * 10;    //用于生产noise随机数\r\n};\r\nutil.inheritPrototype(ButtonParticle, Particle);\r\n\r\n//粒子作用力\r\nButtonParticle.prototype.applyForce = function(force){\r\n\tthis.acceleration.add(force);\r\n};\r\n\r\n//更新粒子状态\r\nButtonParticle.prototype.update = function(){\r\n\tif (this.attractPt){\r\n\t\tvar vect = p5.Vector.sub(this.visualObject.position,this.attractPt.position);\r\n\t\tvar len = vect.mag();\r\n\t\tif (this.vortexAttract){                  //两种吸引方式，两种运动模式\r\n\t\t\tvar options = {\r\n\t\t\t\tb : this,\r\n\t\t\t\tthreshold : 400 \r\n\t\t\t};\r\n\t\t\tvar force = this.attractPt.attract(options);   //引力与漩涡力\r\n\t\t\tthis.applyForce(force);\r\n\t\t\t\r\n\t\t\tvar randomVect = this.velocity.copy();   //影响运行路径的随机向量防止所以的button都在运行一模一样的路径\r\n\t\t\trandomVect.mult(0.3);\r\n\t\t\t\r\n\t\t\tthis.xoff += 0.01;    \r\n\t\t\tvar effectAngle = (this.p.noise(this.xoff) - 0.5) * 2    //-1 to 1\r\n\t\t\t* (Math.PI / 2 * 0.1);  \r\n\t\t\trandomVect.rotate(effectAngle);\r\n\t\t\tthis.velocity.add(randomVect);\r\n\t\t\t\r\n\t\t\tif (this.reflect){\r\n\t\t\t\tif(this.visualObject.position.x < this.visualObject.width/2 || this.visualObject.position.x > this.p.width - this.visualObject.width/2){\r\n\t\t\t\t\tthis.velocity.x *= -1;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.visualObject.position.y < this.visualObject.height/2 || this.visualObject.position.y > this.p.height - this.visualObject.height/2){\r\n\t\t\t\t\tthis.velocity.y *= -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//无限符号（∞）运动路径的实现\r\n\t\t\tvar angle = vect.heading();\r\n\t\t\t\r\n\t\t\tif(!this.attractPt.clocklwise && len < 200 && angle < Math.PI/4 && angle > 0){\r\n\t\t\t\tthis.attractPt = globalVar.attractPtR;\r\n\t\t\t}else{\r\n\t\t\t\tif(this.attractPt.clockwise && len < 200 && angle < 3 * Math.PI/4 && angle > Math.PI/2){\r\n\t\t\t\t\tthis.attractPt = globalVar.attractPtL;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.velocity.add(this.acceleration);   //更新速度\r\n\t\t\tthis.velocity.limit(this.topspeed);    //限制最高速度\r\n\t\t\tthis.acceleration.mult(0);  //加速度清零\r\n\t\t}else{       //align模式的吸引方式（easing）\r\n\t\t\tvect.mult(-0.1);\r\n\t\t\tthis.velocity = vect;\r\n\t\t}\r\n\t}\r\n\tthis.visualObject.position.add(this.velocity);   //更新位置\r\n};\r\n\r\n//绘制粒子\r\nButtonParticle.prototype.display = function(){\r\n\tif(this.visualObject.pState != \"click\" && this.visualObject.pState != \"hover\" && this.visualObject.pState != \"press\"){\r\n\t\tthis.update();\r\n\t}\r\n\tthis.visualObject.display();\r\n};\r\n\r\nmodule.exports = ButtonParticle;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/ButtonParticle.js\n ** module id = 4\n ** module chunks = 0\n **/","var Particle = function (options){\r\n\tthis.visualObject = options.visualObject;   //visualObject为实现了position属性与display方法的对象\r\n\tthis.p = options.p;\r\n\tthis.reflect = false;\r\n\tthis.topspeed = options.topspeed || Math.random() * 3 + 2;  //控制最高速度\r\n    this.acceleration = options.acceleration ?  options.acceleration.copy() : new p5.Vector(0,0);  //加速度\r\n    this.velocity = options.velocity ?  options.velocity.copy() : new p5.Vector(    //速度\r\n        Math.random()*((Math.random()>0.5)?-0.5:0.5),\r\n        Math.random()-((Math.random()>0.5)?0.5:1)\r\n    );\r\n}\r\n\r\n//粒子作用力\r\nParticle.prototype.applyForce = function(force){\r\n\tthis.acceleration.add(force);\r\n}\r\n\r\n//更新粒子状态\r\nParticle.prototype.update = function(){\r\n\t//速度\r\n\tif(!this.velocity){\r\n\t\tvar random1 = Math.random()*((Math.random()>0.5)?-0.5:0.5);\r\n\t\tvar random2 = Math.random()-((Math.random()>0.5)?0.5:1);\r\n\t\tthis.velocity = new p5.Vector(random1,random2);\r\n\t}\r\n\t\r\n\tthis.velocity.add(this.acceleration);\r\n\tthis.acceleration.mult(0);  //加速度清零\r\n\t\r\n\tif(this.reflect){\r\n\t\tif(this.visualObject.position.x < this.visualObject.width/2 || this.visualObject.position.x > this.p.width - this.visualObject.width/2){\r\n\t\t\tthis.velocity.x *= -1;\r\n\t\t}\r\n\t\tif(this.visualObject.position.y < this.visualObject.height/2 || this.visualObject.position.y > this.p.height - this.visualObject.height/2){\r\n\t\t\tthis.velocity.y *= -1;\r\n\t\t}\r\n\t}else{\r\n        if(this.visualObject.position.x < -this.visualObject.width/2){\r\n            this.visualObject.position.x = this.p.width + this.visualObject.width - Math.abs(this.visualObject.position.x);\r\n        } \r\n        if(this.visualObject.position.x > this.p.width + this.visualObject.width/2){\r\n\t\t\tthis.visualObject.position.x = this.visualObject.position.x - this.p.width - this.visualObject.width;\r\n\t\t}\r\n        if(this.visualObject.position.y < -this.visualObject.height/2){\r\n            this.visualObject.position.y = this.p.height + this.visualObject.height - Math.abs(this.visualObject.position.y);\r\n        }\r\n        if(this.visualObject.position.y > this.p.height + this.visualObject.height/2){\r\n\t\t\tthis.visualObject.position.y = this.visualObject.position.y - this.p.height - this.visualObject.height;\r\n\t\t}\r\n    }\r\n\t\r\n\tthis.velocity.limit(this.topspeed);\r\n\r\n\tthis.visualObject.position.add(this.velocity);\r\n}\r\n\r\n//绘制粒子\r\nParticle.prototype.display = function(){\r\n\tthis.update();\r\n\tthis.visualObject.display();\r\n}\r\n\r\nmodule.exports = Particle;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/Particle.js\n ** module id = 5\n ** module chunks = 0\n **/","/**\r\n * VisualObject\r\n * by:Zzzz\r\n * date:2016-05-03\r\n */\r\nvar VisualObject = function (options) {\r\n\tthis.position = options.position.copy();  //位置\r\n\tthis.width = options.width;  //宽度\r\n\tthis.height = options.height;  //高度\r\n\tthis.p = options.p;  //p5实例 \r\n\tthis.fillCol = options.fillCol || this.p.color(200,200,200,100);\r\n}\r\n\r\nVisualObject.prototype.update = function(){\r\n}\r\n\r\n//根据不同的状态绘制Button\r\nVisualObject.prototype.display = function () {\r\n\tthis.update();\r\n\tthis.drawGeometry();\r\n}\r\n\r\n// 绘制几何图形\r\nVisualObject.prototype.drawGeometry = function () {\r\n\tthis.strokeCol ? this.p.stroke(this.strokeCol) : this.p.noStroke();\r\n\tthis.p.fill(this.fillCol);\r\n\tthis.p.push();\r\n\tthis.p.translate(this.position.x, this.position.y);\r\n\tthis.p.ellipse(0, 0, this.width, this.height);\r\n\tthis.p.pop();\r\n}\r\n\r\n\r\nmodule.exports = VisualObject;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/VisualObject.js\n ** module id = 6\n ** module chunks = 0\n **/","/**\r\n * 吸引点\r\n */\r\nvar ButtonParticle = require(\"./ButtonParticle.js\");\r\n\r\nvar AttractPoint = function (options){\r\n\tthis.position = options.position.copy();\r\n\t//this.strength = options.strength;\r\n\tthis.p = options.p;\r\n\tthis.clockwise = options.clockwise || false;\r\n\tthis.vortex = options.vortex || false;\r\n}\r\n\r\nAttractPoint.prototype.attract = function (options){\r\n\tvar force = this.vortex ? this.vortexAttract(options) : this.linearAttract(options);\r\n\treturn force;\r\n}\r\n\r\nAttractPoint.prototype.linearAttract = function (options){\r\n\tif(options.b instanceof ButtonParticle){\r\n\t\tvar force = p5.Vector.sub(this.position,options.b.visualObject.position);\r\n\t\tvar dist = force.mag();\r\n\t\tforce.normalize();\r\n\t\tforce.mult(dist * 0.618);\r\n\t\treturn force;\r\n\t}\r\n}\r\nAttractPoint.prototype.vortexAttract = function (options){\r\n\tif(options.b instanceof ButtonParticle){\r\n\t\tvar force = p5.Vector.sub(this.position,options.b.visualObject.position);\r\n\t\t\r\n\t\tvar ff = force.copy();\r\n\t\tif(this.clockwise){\r\n\t\t\tff.rotate(-Math.PI/2);\r\n\t\t}else{\r\n\t\t\tff.rotate(Math.PI/2);\r\n\t\t}\r\n\t\tff.setMag(options.threshold);\r\n\t\tforce.add(ff);\r\n\t\tforce.limit(1);\r\n\t\treturn force;\r\n\t}\r\n}\r\n\r\nAttractPoint.prototype.display = function(){\r\n\tthis.p.fill(200);\r\n\tthis.p.ellipse(this.position.x,this.position.y,50,50);\r\n}\r\n\r\nmodule.exports = AttractPoint;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/AttractPoint.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\r\n * Button类，基于p5.js\r\n * by:Zzzz\r\n * date:2016-03-03\r\n */\r\n\r\nvar util = require(\"./util.js\");\r\nvar VisualObject = require(\"./VisualObject.js\");\r\n\r\nvar Button = function (options) {\r\n\tVisualObject.call(this,{\r\n\t\tposition : options.position,  //位置\r\n\t\twidth : options.width,   //宽度\r\n\t\theight : options.height,  //高度\r\n\t\tp : options.p,  //p5实例\r\n\t\tfillCol : options.fillCol\r\n\t});\r\n\tthis.pState = \"mouseOut\";  //Button初始状态\r\n\tthis.state;\r\n\tthis.pSwitch = \"off\";   //Button初始状态\r\n\tthis.hoverCol = options.hoverCol || this.p.color(\"#06799F\");  //鼠标悬浮时Button的颜色\r\n\tthis.pressCol = options.pressCol || this.p.color(\"#D9534F\");  //鼠标按下时Button的颜色\r\n\tthis.clickCol = options.clickCol || this.p.color(\"#D9534F\");  //Button处于on状态时的颜色\r\n\tthis.positions = [];  //储存位置\r\n\tthis.handlers = {};  //事件处理程序\r\n}\r\nutil.inheritPrototype(Button, VisualObject);\r\n\r\n//判断Button是否被选中\r\nButton.prototype.isSelected = function () {\r\n\tvar translateX = globalVar.translate[globalVar.translate.length - 1].x,      //p5的bug,translate后,鼠标位置出错.\r\n\t\ttranslateY = globalVar.translate[globalVar.translate.length - 1].y,\r\n\t\tmouseX = this.p.mouseX - translateX,\r\n\t\tmouseY = this.p.mouseY - translateY;\r\n\r\n\tif (mouseX >= this.position.x - width / 2 && mouseX <= this.position.x + width / 2 && mouseY >= this.position.y - height / 2 && mouseY <= this.position.y + height / 2) {\r\n\t\treturn true;\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n//判断Button的状态\r\nButton.prototype.getState = function () {\r\n\t/**\r\n\t * hover (pState) ： 鼠标悬浮（被选中）\r\n\t * press (pState) ： 鼠标按下\r\n\t * click (pState) ： 鼠标点击\r\n\t * mouseOut (pState) ： 鼠标从button上移开/未被选中\r\n\t * on (pSwitch) : Button处于开启状态\r\n\t * off (pSwitch) ： Button处于关闭状态\r\n\t */\r\n\tif (this.isSelected()) {\r\n\t\tif (this.pState == \"click\") {\r\n\t\t\tif (this.p.mouseIsPressed) {\r\n\t\t\t\treturn \"press\";\r\n\t\t\t} else {\r\n\t\t\t\treturn \"click\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.p.mouseIsPressed) {\r\n\t\t\t\treturn \"press\";\r\n\t\t\t} else {\r\n\t\t\t\tif (this.pState == \"press\") {\r\n\t\t\t\t\tif (this.pSwitch == \"on\") {\r\n\t\t\t\t\t\tthis.pSwitch = \"off\";\r\n\t\t\t\t\t\treturn \"hover\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.pSwitch = \"on\";\r\n\t\t\t\t\t\treturn \"click\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"hover\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tif (this.pState == \"click\") {\r\n\t\t\treturn \"click\";\r\n\t\t} else {\r\n\t\t\treturn \"mouseOut\";\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//鼠标指针图形\r\nButton.prototype.cursorState = function(state){\r\n\tif(this.constructor.prototype.hoverObjCount == 0){\r\n\t\t$(this.p.canvas).css(\"cursor\",\"default\");\r\n\t}else{\r\n\t\tif(state != \"mouseOut\"){\r\n\t\t\tif(this.isSelected()){\r\n\t\t\t\t$(this.p.canvas).css(\"cursor\",\"pointer\");\r\n\t\t\t}else{\r\n\t\t\t\t$(this.p.canvas).css(\"cursor\",\"default\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nButton.prototype.update = function(){\r\n}\r\n\r\n//根据不同的状态绘制Button\r\nButton.prototype.display = function () {\r\n\t//this.update();\r\n\tif (this.strokeCol) {\r\n\t\tthis.p.stroke(this.strokeCol);\r\n\t} else {\r\n\t\tthis.p.noStroke();\r\n\t}\r\n\tthis.p.rectMode('center');\r\n\tthis.tate = this.getState();\r\n\tswitch (this.tate) {\r\n\t\tcase \"hover\":\r\n\t\t\tthis.fillCol = this.hoverCol;\r\n\t\t\tthis.drawGeometry();\r\n\t\t\tthis.fire({ type: \"hover\" });\r\n\t\t\tthis.pState = \"hover\";\r\n\t\t\tbreak;\r\n\t\tcase \"mouseOut\":\r\n\t\t\tif (this.buttonCol) {\r\n\t\t\t\tthis.fillCol = this.buttonCol;\r\n\t\t\t} else {\r\n\t\t\t\tthis.fillCol = this.p.color(0, 0, 100);\r\n\t\t\t}\r\n\t\t\tthis.drawGeometry();\r\n\t\t\tthis.fire({ type: \"mouseOut\" });\r\n\t\t\tthis.pState = \"mouseOut\";\r\n\t\t\tbreak;\r\n\t\tcase \"press\":\r\n\t\t\tthis.fillCol = this.pressCol;\r\n\t\t\tthis.drawGeometry();\r\n\t\t\tthis.fire({ type: \"press\" });\r\n\t\t\tthis.pState = \"press\";\r\n\t\t\tbreak;\r\n\t\tcase \"click\":\r\n\t\t\tthis.fillCol = this.clickCol;\r\n\t\t\tthis.drawGeometry();\r\n\t\t\tthis.fire({ type: \"click\" });\r\n\t\t\tthis.pState = \"click\";\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tif (this.buttonCol) {\r\n\t\t\t\tthis.fillCol = this.buttonCol;\r\n\t\t\t} else {\r\n\t\t\t\tthis.fillCol = this.p.color(0, 0, 100);\r\n\t\t\t}\r\n\t\t\tthis.drawGeometry();\r\n\t}\r\n}\r\n\r\n\r\n//事件相关\r\nButton.prototype.addHandler = function (type, handler) {\r\n\tif (typeof this.handlers[type] == \"undefined\") {\r\n\t\tthis.handlers[type] = [];\r\n\t}\r\n\tthis.handlers[type].push(handler);\r\n}\r\nButton.prototype.fire = function (event) {\r\n\tif (!event.target) {\r\n\t\tevent.target = this;\r\n\t}\r\n\tif (this.handlers[event.type] instanceof Array) {\r\n\t\tvar handlers = this.handlers[event.type];\r\n\t\tfor (var i = 0, len = handlers.length; i < len; i++) {\r\n\t\t\thandlers[i](event);\r\n\t\t}\r\n\t}\r\n}\r\nButton.prototype.removeHandler = function (type, handler) {\r\n\tif (this.handlers[type] instanceof Array) {\r\n\t\tvar handlers = this.handlers[type];\r\n\t\tfor (var i = 0, len = handlers.length; i < len; i++) {\r\n\t\t\tif (handers[i] === handler) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\thandlers.splice(i, 1);\r\n\t}\r\n}\r\n\r\n\r\nmodule.exports = Button;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/Button.js\n ** module id = 8\n ** module chunks = 0\n **/","/**\r\n * 定义与Button绑定的事件处理程序\r\n */\r\nvar util = require(\"./util.js\");\r\nvar globalVar = require(\"./GlobalVar.js\");\r\nvar getPostContent = require(\"./getPostContent.js\");\r\n\r\nvar eventHandleFunc = {\r\n    clicked_animation : function (event){\r\n        event.target.p.noStroke();\r\n        event.target.p.fill(0);\r\n        event.target.p.textAlign(\"center\");\r\n        event.target.p.stroke(255);\r\n        event.target.p.strokeWeight(5);\r\n        event.target.p.push();\r\n        event.target.p.translate(event.target.position.x,event.target.position.y);\r\n        \r\n        if (event.target.clickTimeline > 100000000) event.target.clickTimeline = 0;\r\n        \r\n        if(event.target.clickTimeline < 40){\r\n            event.target.p.rotate(event.target.p.map(event.target.clickTimeline,0,40,0,Math.PI/4));\r\n        }else{\r\n            event.target.p.rotate(Math.PI/4);\r\n        }\r\n        event.target.p.line(-12,0,12,0);\r\n        event.target.p.line(0,-12,0,12);\r\n        event.target.p.pop();\r\n        \r\n        event.target.p.noFill();\r\n        var n = event.target.clickTimeline % 200;\r\n        event.target.p.stroke(200, 200,200, 200 - n);\r\n        event.target.p.strokeWeight(10 - n / 20);\r\n        \r\n        for (var i = 0; i < 3; i++){\r\n            event.target.p.ellipse(event.target.position.x, event.target.position.y, event.target.height + Math.sqrt((n - 60 * i) * 10, 2), event.target.height + Math.sqrt((n - 60 * i) * 10, 2));\r\n        }\r\n        \r\n        event.target.p.stroke('gray');\r\n        event.target.p.strokeWeight(1);\r\n        if(event.target.clickTimeline < 100){\r\n            event.target.p.line(event.target.position.x, event.target.position.y + event.target.width / 2, event.target.position.x, Math.max(event.target.position.y + 15 * event.target.clickTimeline, event.target.position.y + event.target.width / 2));\r\n        }else{\r\n            event.target.p.line(event.target.position.x, event.target.position.y + event.target.width / 2, event.target.position.x, event.target.position.y + 1500);\r\n        }\r\n    },\r\n\r\n    showShortUserInfo : function (event){\r\n        if(event.target.pState !== \"hover\"){ \r\n            var top = Math.floor(event.target.position.y + globalVar.navigationBarHeight + event.target.constructor.prototype.trans[event.target.constructor.prototype.trans.length - 1].y);\r\n            var left = Math.floor(event.target.position.x + event.target.constructor.prototype.trans[event.target.constructor.prototype.trans.length - 1].x);  \r\n            \r\n            var sortInfoFrame = document.getElementById(\"sortInfoFrame\");\r\n            if(sortInfoFrame){\r\n                $(\"#sortInfoFrame\").fadeIn(0);\r\n                sortInfoFrame.innerHTML = \"\";\r\n            }else{\r\n                sortInfoFrame = document.createElement(\"div\");\r\n                sortInfoFrame.id = \"sortInfoFrame\";\r\n            }\r\n            sortInfoFrame.style.top = top - 50 + \"px\";\r\n            sortInfoFrame.style.left = left + 80 + \"px\";\r\n\r\n            var img = document.createElement(\"img\");\r\n            img.src = event.target.info['avatar'];\r\n            img.style.cssText = \"width:100px;height:100px;border-radius:5px;-moz-border-radius:5px;\";\r\n            sortInfoFrame.appendChild(img);\r\n\r\n            var name = document.createElement(\"div\");\r\n            name.innerHTML = \"<b>名字：</b>\" + event.target.info['name'];\r\n            name.style.cssText = \"margin-top:20px\";\r\n            sortInfoFrame.appendChild(name);\r\n\r\n            document.body.appendChild(sortInfoFrame);\r\n        }\r\n\r\n    },\r\n\r\n    showShortPostInfo : function (event){\r\n        if(event.target.pState !== \"hover\"){\r\n            // var sketch = document.getElementById(\"sketch\");\r\n            var top = Math.floor(event.target.position.y + globalVar.navigationBarHeight + event.target.constructor.prototype.trans[event.target.constructor.prototype.trans.length - 1].y);\r\n            var left = Math.floor(event.target.position.x + event.target.constructor.prototype.trans[event.target.constructor.prototype.trans.length - 1].x);\r\n               \r\n            var sortInfoFrame = document.getElementById(\"sortInfoFrame\");\r\n            if(sortInfoFrame){\r\n                $(\"#sortInfoFrame\").fadeIn(0);\r\n                sortInfoFrame.innerHTML = \"\";\r\n            }else{\r\n                sortInfoFrame = document.createElement(\"div\");\r\n                sortInfoFrame.id = \"sortInfoFrame\";\r\n            }\r\n            sortInfoFrame.style.top = top - 50 + \"px\";\r\n            sortInfoFrame.style.left = left + 80 + \"px\";\r\n\r\n            var img = document.createElement(\"img\");\r\n            img.src = event.target.info['thumbnail'];\r\n            img.style.cssText = \"width:100px;height:100px;border-radius:5px;-moz-border-radius:5px;\";\r\n            sortInfoFrame.appendChild(img);\r\n\r\n            var title = document.createElement(\"div\");\r\n            title.innerHTML = \"<b>作品：</b>\" + event.target.info['title'];\r\n            title.style.cssText = \"margin-top:20px\";\r\n            sortInfoFrame.appendChild(title);\r\n\r\n            document.body.appendChild(sortInfoFrame);\r\n        }\r\n\r\n    },\r\n\r\n    hideShortInfo : function (event){\r\n        if (event.target.hoverObjCount === 0 && event.target.pState===\"hover\") {\r\n            $(\"#sortInfoFrame\").fadeOut(0);\r\n        }\r\n        if (event.target.state === \"press\") {\r\n            $(\"#sortInfoFrame\").fadeOut(400);\r\n        }\r\n    },\r\n\r\n    showUserInfo : function (event){\r\n        var doc = document;\r\n        var sketch = document.getElementById(\"sketch\");\r\n\r\n        var infoFrame = document.getElementById(\"infoFrame\");\r\n        if(infoFrame){\r\n            infoFrame.style.visibility = \"visible\";\r\n            infoFrame.innerHTML = \"\";    //清空\r\n        }else{\r\n            infoFrame = doc.createElement(\"div\");\r\n            infoFrame.id = \"infoFrame\";\r\n        }\r\n\r\n        var introduction = doc.createElement(\"div\");\r\n        introduction.id = \"introduction\";\r\n\r\n            var avatar = doc.createElement(\"img\");      //avatar\r\n            avatar.src = event.target.info['avatar'];\r\n            avatar.width = 80;\r\n            avatar.height = 80;\r\n            avatar.alt = event.target.info['name'];\r\n\r\n            var infoContainer = doc.createElement(\"div\");\r\n            infoContainer.id = \"infoContainer\";\r\n\r\n                var name = doc.createElement(\"div\");     //title\r\n                name.id += \"name\";\r\n                name.innerHTML = \"<h3>\" + event.target.info['name'] + \"</h3>\";\r\n\r\n                var postList = doc.createElement(\"div\");\r\n                postList.id = \"postList\";\r\n\r\n                var ps = event.target.info['posts'];\r\n                var fragment = doc.createDocumentFragment();\r\n                for(var i=0;i<ps.length;i++){\r\n                    var posts = doc.createElement(\"div\");     //author\r\n                    posts.className += \"postList\";\r\n                    posts.title = \"posts\";\r\n                    //posts.id = \"getPostContentButton\" + ps[i].id;\r\n                    posts.innerHTML = ps[i].title;\r\n                    posts.data_id = ps[i].id;\r\n                    posts.onclick = function (){\r\n                        getPostContent(this.data_id,true);\r\n                    };\r\n                    fragment.appendChild(posts);\r\n                }\r\n\r\n            var fragment_1 = doc.createDocumentFragment();\r\n\r\n            var major = doc.createElement(\"div\");\r\n            major.className += \"postMeta\";\r\n            major.title = \"major\";\r\n            major.innerHTML = \"专业：\" +  \"---\";\r\n\r\n            var unit = doc.createElement(\"div\");\r\n            unit.className += \"postMeta\";\r\n            unit.title = \"unit\";\r\n            unit.innerHTML = \"单位/学校：\" +  \"广州美术学院\";\r\n\r\n            var profession = doc.createElement(\"div\");\r\n            profession.className += \"postMeta\";\r\n            profession.title = \"profession\";\r\n            profession.innerHTML = \"职业：\" +  \"---\";\r\n\r\n            fragment_1.appendChild(major);\r\n            fragment_1.appendChild(unit);\r\n            fragment_1.appendChild(profession);\r\n\r\n        var postContent = document.getElementById(\"postContent\");\r\n        if (!postContent){\r\n            postContent = document.createElement(\"div\");\r\n            postContent.id = \"postContent\"\r\n            postContent.style.display = \"none\";\r\n        }\r\n\r\n        infoContainer.appendChild(name);\r\n        infoContainer.appendChild(fragment_1);\r\n\r\n        postList.appendChild(fragment);\r\n        introduction.appendChild(postList);\r\n        introduction.appendChild(avatar);\r\n        introduction.appendChild(infoContainer);\r\n\r\n        infoFrame.appendChild(introduction);\r\n        infoFrame.appendChild(postContent);\r\n        doc.body.appendChild(infoFrame);\r\n        \r\n        $(\"#infoFrame\").css(\"display\", \"none\");\r\n        $(\"#infoFrame\").fadeIn();\r\n    },\r\n\r\n    showPostInfo : function (event){\r\n        var doc = document;\r\n        var infoFrame = doc.getElementById(\"infoFrame\");    //infoFrame\r\n        if(infoFrame){\r\n            infoFrame.style.visibility = \"visible\";\r\n            infoFrame.innerHTML = \"\";    //清空\r\n        }else{\r\n            infoFrame = doc.createElement(\"div\");\r\n            infoFrame.id = \"infoFrame\";\r\n        }\r\n\r\n        var introduction = doc.createElement(\"div\");\r\n        introduction.id = \"introduction\";\r\n\r\n            var thumbnail = doc.createElement(\"img\");      //thumbnail\r\n            thumbnail.src = event.target.info['thumbnail'];\r\n            thumbnail.width = 80;\r\n            thumbnail.height = 80;\r\n            thumbnail.alt = event.target.info['title'];\r\n\r\n            var infoContainer = doc.createElement(\"div\");\r\n            infoContainer.id = \"infoContainer\";\r\n\r\n                var title = doc.createElement(\"div\");     //title\r\n                title.classList.add(\"title_link\");     //添加标题鼠标悬浮样式\r\n                title.onclick = function (){\r\n                    if (this.classList.contains(\"title_link\")){\r\n                        getPostContent(event.target.info['id'], false);  //false : no title\r\n                    }\r\n                    this.classList.remove(\"title_link\");     //删除标题鼠标悬浮样式\r\n                };\r\n                title.id += \"title\";\r\n                title.innerHTML = \"<h3>\" + event.target.info['title'] + \"</h3>\";\r\n\r\n                var author = doc.createElement(\"div\");     //author\r\n                author.className += \"postMeta\";\r\n                author.title = \"author\";\r\n                author.innerHTML = \"作者：\" + event.target.info['author'];\r\n\r\n                var productType = doc.createElement(\"div\");\r\n                productType.className += \"postMeta\";\r\n                productType.title = \"productType\";\r\n                productType.innerHTML = \"作品类型：\" + (event.target.info['productType'] || \"-----\");\r\n\r\n                var major = doc.createElement(\"div\");\r\n                major.className += \"postMeta\";\r\n                major.title = \"major\";\r\n                major.innerHTML = \"专业：\" + (event.target.info['major'] || \"---\") + \"-\" + (event.target.info['subMajor'] || \"---\");\r\n\r\n                var creationDate = doc.createElement(\"div\");\r\n                creationDate.className += \"postMeta\";\r\n                creationDate.title = \"creationDate\";\r\n                creationDate.innerHTML = \"创作年份：\" + (event.target.info['creationDate'] || \"-----\") + \"年\";\r\n\r\n        var postContent = document.createElement(\"div\");\r\n        postContent.id = \"postContent\";\r\n        postContent.style.display = \"none\";\r\n\r\n        infoContainer.appendChild(title);\r\n        infoContainer.appendChild(author);\r\n        infoContainer.appendChild(productType);\r\n        infoContainer.appendChild(major);\r\n        infoContainer.appendChild(creationDate);\r\n\r\n        introduction.appendChild(thumbnail);\r\n        introduction.appendChild(infoContainer);\r\n\r\n        infoFrame.appendChild(introduction);\r\n        infoFrame.appendChild(postContent);\r\n        doc.body.appendChild(infoFrame);\r\n\r\n        $(\"#infoFrame\").css(\"display\", \"none\");\r\n        $(\"#infoFrame\").fadeIn();\r\n    },\r\n\r\n    hideInfoFrame : function (event){\r\n        var doc = document;\r\n        var infoFrame = doc.getElementById(\"infoFrame\");\r\n        $(\"#infoFrame\").fadeOut(\"fast\",function (){infoFrame.style.visibility = \"hidden\";});\r\n    }\r\n\r\n};\r\n\r\nmodule.exports = eventHandleFunc;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/EventHandleFunc.js\n ** module id = 9\n ** module chunks = 0\n **/","/**\r\n * Created by zhang on 2016/5/8 0008.\r\n */\r\nvar globalVar = require(\"./GlobalVar.js\");\r\nvar ButtonPlus = require(\"./ButtonPlus.js\");\r\n\r\nvar FilterButton = function (options){\r\n    this.type = options.type;\r\n    if (this.type !== \"cancel\"){\r\n        this.value = options.value;\r\n        this.switch = false;\r\n    }\r\n    this.keyword = options.keyword;\r\n\r\n\r\n    if (options.node){\r\n        this.node = options.node;\r\n    }else{\r\n        this.id = options.id;\r\n        this.text = options.text;\r\n        this.class = options.class;\r\n        this.parentId = options.parentId;\r\n        this.createElement();\r\n    }\r\n\r\n    //this.class = options.class;\r\n    //if (this.class){\r\n    //    this.node.classList += this.class;\r\n    //}\r\n    //this.node.classList += \"FilterButton\";\r\n    this.node.title = options.title;\r\n    this.attachEvent();\r\n};\r\n\r\nFilterButton.prototype.select = {};\r\n\r\nFilterButton.prototype.createElement = function (){\r\n    var doc = document;\r\n    this.node = doc.createElement(\"button\");\r\n    this.node.id = this.id;\r\n    this.node.className = this.class;\r\n    this.node.innerHTML = this.text;\r\n    //this.node.href = \"#\";\r\n    if (this.parentId){\r\n        var parentNode = doc.getElementById(this.parentId);\r\n        if (parentNode){\r\n            parentNode.appendChild(this.node);\r\n        }else{\r\n            doc.body.appendChild(this.node);\r\n        }\r\n    }else{\r\n        doc.body.appendChild(this.node);\r\n    }\r\n};\r\n\r\nFilterButton.prototype.doFilter = function (){\r\n    var BP = globalVar.displayArray.ButtonParticle;\r\n\r\n    for(var i = 0, len = BP.length; i < len; i++){\r\n        BP[i].visualObject.filtered = false;\r\n    }\r\n\r\n    var status = [];\r\n    for (i = 0, len = BP.length; i < len; i++) {\r\n        var m = 0;\r\n        for (var keyword in this.constructor.prototype.select) {\r\n            if (this.constructor.prototype.select[keyword].length === 0){      //如果有一列的多选按钮点击个数减少到0，则filter失效\r\n                if (m === 0){\r\n                    status[i] = false;\r\n                }else{\r\n                    status[i] |= false;\r\n                }\r\n                //BP[i].visualObject.filtered = false;\r\n                delete this.constructor.prototype.select[keyword];\r\n            }else{\r\n                if (this.constructor.prototype.select[keyword].indexOf(BP[i].visualObject.info[keyword]) === -1) {     // ===-1说明不存在\r\n                    if (BP[i].visualObject.pState === \"click\") {\r\n                        BP[i].visualObject.pState = \"mouseOut\";       //fliter切换后，将之前“click”状态的button改为普通状态，即状态重置\r\n                        ButtonPlus.prototype.hoverObjCount = 0;        //选中个数也必须重置\r\n                        BP[i].visualObject.fire({type: \"turnOff\"});     //ButtonPlus触发turnOff事件\r\n                    }\r\n\r\n                    if (m === 0){\r\n                        status[i] = true;\r\n                    }else{\r\n                        status[i] |= true;\r\n                    }\r\n                }else{\r\n                    if (m === 0){\r\n                        status[i] = false;\r\n                    }else{\r\n                        status[i] |= false;\r\n\r\n                    }\r\n                }\r\n            }\r\n            m ++;\r\n        }\r\n    }\r\n\r\n    for(i = 0; i < len; i++){\r\n        BP[i].visualObject.filtered = status[i];\r\n    }\r\n};\r\n\r\nFilterButton.prototype.attachEvent = function (){\r\n    if (this.type !== \"cancel\"){\r\n        this.node.onclick = function (){\r\n            this.switch = this.switch ? false : true;\r\n\r\n            if (this.switch){                 //切换FilterButton的显示效果\r\n                this.node.classList.add(\"active\");\r\n\r\n                if(!this.constructor.prototype.select[this.keyword]){\r\n                    this.constructor.prototype.select[this.keyword] = [];\r\n                }\r\n                this.constructor.prototype.select[this.keyword].push(this.value);\r\n\r\n                for(var i in globalVar.filterButton){                                        //当该类型有按钮被按下时,激活该类型的删除按钮\r\n                    if (globalVar.filterButton[i].type === \"cancel\" && globalVar.filterButton[i].keyword === this.keyword){\r\n                        globalVar.filterButton[i].node.classList.add(\"cancelActive\");\r\n                    }\r\n                    if (globalVar.filterButton[i].type === \"cancel\" && globalVar.filterButton[i].keyword === undefined){\r\n                        globalVar.filterButton[i].node.classList.add(\"cancelActive\");\r\n                    }\r\n                }\r\n            }else{\r\n                this.node.classList.remove(\"active\");\r\n                var keyword = this.constructor.prototype.select[this.keyword];\r\n                if (keyword !== undefined){\r\n                    var id = keyword.indexOf(this.value);\r\n                    keyword.splice(id, 1);\r\n                }\r\n                if (keyword.length === 0){\r\n                    for(var i in globalVar.filterButton){                                        //当该类型的所有按钮没被按下时,取消激活该类型的删除按钮\r\n                        if (globalVar.filterButton[i].type === \"cancel\" && globalVar.filterButton[i].keyword === this.keyword){\r\n                            globalVar.filterButton[i].node.classList.remove(\"cancelActive\");\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.disactiveCancelAll();    //当所有按钮没被按下时,取消激活cancelAll\r\n            }\r\n\r\n            this.doFilter();\r\n        }.bind(this);\r\n    }else{                                              //如果是删除按钮\r\n        this.node.onclick = function (){\r\n            if (this.keyword){\r\n                this.constructor.prototype.select[this.keyword] = [];\r\n\r\n                for (var i in globalVar.filterButton){        //清除某个类型的按钮\r\n                    if (globalVar.filterButton[i].switch && globalVar.filterButton[i].keyword === this.keyword){\r\n                        globalVar.filterButton[i].switch = globalVar.filterButton[i].switch ? false : true;\r\n                        globalVar.filterButton[i].node.classList.remove(\"active\");\r\n                    }\r\n                }\r\n\r\n                this.disactiveCancelAll();    //当所有按钮没被按下时,取消激活cancelAll\r\n\r\n            }else{                              //全部清除\r\n                for (var keyword in this.constructor.prototype.select) {\r\n                    this.constructor.prototype.select[keyword] = [];\r\n                }\r\n                for (i in globalVar.filterButton){\r\n                    if (globalVar.filterButton[i].switch){\r\n                        globalVar.filterButton[i].switch = globalVar.filterButton[i].switch ? false : true;\r\n                        globalVar.filterButton[i].node.classList.remove(\"active\");\r\n                    }\r\n                    if (globalVar.filterButton[i].type === \"cancel\"){\r\n                        globalVar.filterButton[i].node.classList.remove(\"cancelActive\");\r\n                    }\r\n                }\r\n            }\r\n            this.node.classList.remove(\"cancelActive\");\r\n            this.doFilter();\r\n        }.bind(this);\r\n    }\r\n};\r\n\r\nFilterButton.prototype.disactiveCancelAll = function (){   //当所有按钮没被按下时,取消激活cancelAll\r\n    for (var i in this.constructor.prototype.select){\r\n        if (this.constructor.prototype.select[i].length !== 0){\r\n            return;\r\n        }\r\n    }\r\n    for(var i in globalVar.filterButton){\r\n        if (globalVar.filterButton[i].type === \"cancel\" && globalVar.filterButton[i].keyword === undefined){\r\n            globalVar.filterButton[i].node.classList.remove(\"cancelActive\");\r\n        }\r\n    }\r\n};\r\n\r\nmodule.exports = FilterButton;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/FilterButton.js\n ** module id = 10\n ** module chunks = 0\n **/","\r\nvar eventHandleFunc = require(\"./EventHandleFunc.js\");\r\nvar util = require(\"./util.js\");\r\nvar globalVar = require(\"./GlobalVar.js\");\r\nvar ButtonParticle = require(\"./ButtonParticle.js\");\r\nvar ButtonPlus = require(\"./ButtonPlus.js\");\r\n\r\nvar getInfo = function (type,arg){\r\n\tglobalVar.displayArray.ButtonParticle = [];\r\n\t\r\n\tif(window.XMLHttpRequest){\r\n\t\tXMLHTTP=new XMLHttpRequest();\r\n\t}else{\r\n\t\tXMLHTTP=new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n\t}\r\n\r\n\tif(type === \"posts\"){\r\n\t\tXMLHTTP.onreadystatechange=function(){\r\n\t\t\tif(XMLHTTP.readyState==4 && XMLHTTP.status==200){\r\n\t\t\t\t//alert(XMLHTTP.responseText);\r\n\t\t\t\t$(\"#loading\").fadeOut();\r\n\t\t\t\tvar posts = JSON.parse(XMLHTTP.responseText);\r\n\t\t\t\t\r\n\t\t\t\tfor(var item in posts){\r\n\t\t\t\t\tvar size = Math.random()*20 + 15;\r\n\t\t\t\t\tvar width = Math.max(document.documentElement.clientWidth ,960);\r\n\t\t\t\t\tvar height = Math.max(document.documentElement.clientHeight ,600);\r\n\t\t\t\t\tvar options = {\r\n\t\t\t\t\t\tposition : new p5.Vector((Math.random() * globalVar.width - 100) + 50,(Math.random() * globalVar.height - 60) + 30),\r\n\t\t\t\t\t\twidth : size,\r\n\t\t\t\t\t\theight : size,\r\n\t\t\t\t\t\tr : 25,\r\n\t\t\t\t\t\tp : globalVar.pp\r\n\t\t\t\t\t};\r\n\t\t\t\t\tvar optionsBP = {\r\n\t\t\t\t\t\tvisualObject : new ButtonPlus(options),\r\n\t\t\t\t\t\tp : globalVar.pp,\r\n\t\t\t\t\t\tvortexAttract : true\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar newObj = new ButtonParticle(optionsBP);\r\n\t\t\t\t\tnewObj.attractPt = globalVar.attractPtL;\r\n\r\n\t\t\t\t\tnewObj.visualObject.addHandler(\"click\",eventHandleFunc.clicked_animation);\r\n\t\t\t\t\tnewObj.visualObject.addHandler(\"turnOn\",eventHandleFunc.showPostInfo);\r\n\t\t\t\t\tnewObj.visualObject.addHandler(\"turnOn\",eventHandleFunc.hideShortInfo);\r\n\t\t\t\t\tnewObj.visualObject.addHandler(\"turnOff\",eventHandleFunc.hideInfoFrame);\r\n\t\t\t\t\tnewObj.visualObject.addHandler(\"hover\",eventHandleFunc.showShortPostInfo);\r\n\t\t\t\t\tnewObj.visualObject.addHandler(\"mouseOut\",eventHandleFunc.hideShortInfo);\r\n\r\n\t\t\t\t\tnewObj.visualObject.sound = globalVar.SOUNDFILE;\r\n\t\t\t\t\tnewObj.visualObject.info = posts[item];\r\n\t\t\t\t\tnewObj.visualObject.buttonCol = newObj.visualObject.info[\"color\"] || newObj.visualObject.p.color(Math.random() * 255, Math.random() * 255, Math.random() * 255);\r\n\t\t\t\t\tglobalVar.displayArray.ButtonParticle.push(newObj);\r\n\t\t\t\t}\r\n\r\n\t\t\t}else{\r\n\t\t\t\t$(\"#loading\").fadeIn();\r\n\t\t\t}\r\n\t\t};\r\n\t\tXMLHTTP.open(\"GET\",\"wp-content/themes/zbs/getPostInfo.php\");\r\n\t\tXMLHTTP.send();\r\n\t}else{\r\n\t\tif(type === \"users\"){\r\n\t\t\tXMLHTTP.onreadystatechange=function(){\r\n\t\t\t\tif(XMLHTTP.readyState==4 && XMLHTTP.status==200){\r\n\t\t\t\t\tvar users = JSON.parse(XMLHTTP.responseText);\r\n\t\t\t\t\t//alert(XMLHTTP.responseText);\r\n\t\t\t\t\t//console.log(XMLHTTP.responseText);\r\n\t\t\t\t\t\r\n\t\t\t\t\t$(\"#loading\").fadeOut();\r\n\t\t\t\t\tvar i = 0;\r\n\t\t\t\t\tvar count = util.getJsonObjLength(users);\r\n\t\t\t\t\tfor(var item in users){\r\n\t\t\t\t\t\tvar size = Math.random()*20 + 20;\r\n\t\t\t\t\t\tvar options = {\r\n\t\t\t\t\t\t\tposition : new p5.Vector((Math.random() * globalVar.width - 100) + 50,(Math.random() * globalVar.height - 60) + 30),\r\n\t\t\t\t\t\t\twidth : size,\r\n\t\t\t\t\t\t\theight : size,\r\n\t\t\t\t\t\t\tr : 25,\r\n\t\t\t\t\t\t\tp : globalVar.pp\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tvar optionsBP = {\r\n\t\t\t\t\t\t\tvisualObject : new ButtonPlus(options),\r\n\t\t\t\t\t\t\tp : globalVar.pp,\r\n\t\t\t\t\t\t\tvortexAttract : true\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tvar newObj = new ButtonParticle(optionsBP);\r\n\t\t\t\t\t\tif(i < count/2){\r\n\t\t\t\t\t\t\tnewObj.attractPt = globalVar.attractPtL;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tnewObj.attractPt = globalVar.attractPtR;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tnewObj.visualObject.buttonCol = globalVar.pp.color(Math.random()*100, Math.random()*50, Math.random()*200,255);\r\n\t\t\t\t\t\tnewObj.visualObject.addHandler(\"click\",eventHandleFunc.clicked_animation);\r\n\t\t\t\t\t\tnewObj.visualObject.addHandler(\"turnOn\",eventHandleFunc.hideShortInfo);\r\n\t\t\t\t\t\tnewObj.visualObject.addHandler(\"turnOn\",eventHandleFunc.showUserInfo);\r\n\t\t\t\t\t\tnewObj.visualObject.addHandler(\"turnOff\",eventHandleFunc.hideInfoFrame);\r\n\t\t\t\t\t\tnewObj.visualObject.addHandler(\"hover\",eventHandleFunc.showShortUserInfo);\r\n\t\t\t\t\t\tnewObj.visualObject.addHandler(\"mouseOut\",eventHandleFunc.hideShortInfo);\r\n\t\t\t\t\t\tnewObj.visualObject.sound = globalVar.SOUNDFILE;\r\n\t\t\t\t\t\tnewObj.visualObject.info = users[item];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tglobalVar.displayArray.ButtonParticle.push(newObj);\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti = null;\r\n\t\t\t\t\tcount = null;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\"#loading\").fadeIn();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tXMLHTTP.open(\"GET\",\"wp-content/themes/zbs/getUserInfo.php\" + \"?userRole=\" + arg);\r\n\t\t\tXMLHTTP.send();\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\r\n\r\nmodule.exports = getInfo;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/getInfo.js\n ** module id = 11\n ** module chunks = 0\n **/","var globalVar = require(\"./GlobalVar.js\");\r\n\r\nvar getPostContent = function (id, title){\r\n\t//postContent.style.display = \"block\";//\r\n\t$(\"#postContent\").fadeIn();\r\n\r\n\tvar $infoFrame = $(\"#infoFrame\");\r\n\tvar $sketch = $(\"#sketch\");\r\n\r\n\tvar height = document.documentElement.clientHeight - 50 ;\r\n\t$infoFrame.animate({height:height});\r\n\t\r\n\t//窗口尺寸改变\r\n\t$(window).resize(function() {\r\n\t\tif($(\"#postContent\").css(\"display\") !== \"none\"){ //如果这个框不是停靠在下方时\r\n\t\t\t$infoFrame.css(\"height\",document.documentElement.clientHeight - globalVar.navigationBarHeight);\r\n\t\t}\r\n\t});\r\n\t\r\n\t//将sketch隐藏并移出显示范围，否则即使被遮盖也会有交互效果\r\n\t// setTimeout(function (){$('#sketch').css('position','fixed')},200);\r\n\tvar top = $sketch.css(\"top\");\r\n\t$sketch.css(\"top\", parseInt(top) - 900 + \"px\");\r\n\t// $sketch.fadeOut();\r\n\r\n\t//折叠FilterBar,并隐藏filterBarBtn\r\n\t$(\"#filter\").slideUp(\"fast\",function (){\r\n\t\t$(\"#filterBarBtn\").fadeOut();\r\n\t});\r\n\r\n\r\n\tvar rightCtrlBar = document.getElementById(\"rightCtrlBar\");\r\n\r\n\t//滚到顶部\r\n\tvar toTop = document.getElementById(\"toTop\");\r\n\tif(!toTop){\r\n\t\ttoTop = document.createElement(\"button\");\r\n\t\ttoTop.id = \"toTop\";\r\n\t\ttoTop.title = \"返回顶部\";\r\n\t\ttoTop.onclick = function (){\r\n\t\t\t$infoFrame.animate({ scrollTop: 0 }, 400);\r\n\t\t};\r\n\r\n\t\trightCtrlBar.appendChild(toTop);\r\n\t}\r\n\r\n\tvar $toTop = $(\"#toTop\");\r\n\r\n\t/*检查滚动*/\r\n\tvar sTop;\r\n\tsTop = document.getElementById(\"infoFrame\").scrollTop;\r\n\tif(sTop === 0){\r\n\t\t$toTop.css(\"display\",\"none\");\r\n\t}else{\r\n\t\t$toTop.css(\"display\",\"block\");\r\n\t}\r\n\r\n\t$infoFrame.scroll(function(){\r\n\t\tsTop = document.getElementById(\"infoFrame\").scrollTop;\r\n\t\tif(sTop === 0){\r\n\t\t\t$toTop.fadeOut();\r\n\t\t}else{\r\n\t\t\t$toTop.fadeIn();\r\n\t\t}\r\n\t});\r\n\r\n\t//返回按钮（关闭）\r\n\tvar cancel = document.getElementById(\"postContent_delete\");\r\n\tif(!cancel){\r\n\t\tcancel = document.createElement(\"button\");\r\n\t\tcancel.id = \"postContent_delete\";\r\n\t\tcancel.title = \"关闭\";\r\n\t\t//cancel.innerHTML = \"<span class='glyphicon glyphicon-remove'></span>\";\r\n\t\tcancel.onclick = function (){\r\n\t\t\t$infoFrame.animate({height:\"100px\"});\r\n\t\t\t$infoFrame.animate({ scrollTop: 0 }, 400);\r\n\t\t\t$(\"#postContent\").fadeOut();\r\n\t\t\t//var postContent = document.getElementById(\"postContent\");\r\n\t\t\t//postContent.style.display = \"none\";\r\n\t\t\tvar title = document.getElementById(\"title\");\r\n\t\t\tif (title){\r\n\t\t\t\ttitle.classList.add(\"title_link\");     //添加标题鼠标悬浮样式\r\n\t\t\t}\r\n\t\t\t$(this).fadeOut();\r\n\t\t\t\r\n\t\t\tvar top = $sketch.css(\"top\");\r\n\t\t\t$sketch.css(\"top\",parseInt(top) + 900 + \"px\"); //将sketch移回\r\n\t\t\t$sketch.fadeIn();\r\n\t\t\t$(\"#filterBarBtn\").fadeIn();\r\n\t\t};\r\n\t\trightCtrlBar.appendChild(cancel);\r\n\t}\r\n\t$(\"#postContent_delete\").fadeIn();\r\n\t\r\n\t$(\"#loading\").fadeIn(\"fast\");\r\n\t\r\n\tif(window.XMLHttpRequest){\r\n\t\tXMLHTTP=new XMLHttpRequest();\r\n\t}else{\r\n\t\tXMLHTTP=new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n\t}\r\n\r\n\tXMLHTTP.onreadystatechange=function(){\r\n\t\tif(XMLHTTP.readyState==4 && XMLHTTP.status==200){\r\n\t\t\t$(\"#loading\").fadeOut(\"slow\");\r\n\t\t\t// var navigation_bar = document.getElementById(\"navigation_bar\");\r\n\t\t\tvar infoFrame = document.getElementById(\"infoFrame\");\r\n\t\t\tvar postContent = document.getElementById(\"postContent\");\r\n\t\t\tif(infoFrame){\r\n\t\t\t\tif(postContent){\r\n\t\t\t\t\tpostContent.innerHTML = XMLHTTP.responseText;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// $(\"#postContent\").css(\"display\",\"none\");\r\n\t\t\t// $(\"#postContent\").fadeIn();\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n\tXMLHTTP.open(\"GET\",\"wp-content/themes/zbs/getPostContent.php?id=\"+id+\"&title=\"+title);\r\n\tXMLHTTP.send();\r\n};\r\n\r\n\r\nmodule.exports = getPostContent;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./infinite/getPostContent.js\n ** module id = 12\n ** module chunks = 0\n **/"],"sourceRoot":""}